{"version":3,"file":"files_pdfviewer-vendors-node_modules_nextcloud_dialogs_dist_chunks_FilePicker-CtWlxGEm_mjs.js?v=ed3db18fec1eb63ddc90","mappings":"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","sources":["webpack:///files_pdfviewer/node_modules/@nextcloud/sharing/dist/share/ShareType.js","webpack:///files_pdfviewer/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/initial-state/dist/index.js","webpack:///files_pdfviewer/node_modules/@nextcloud/dialogs/node_modules/@vueuse/shared/index.mjs","webpack:///files_pdfviewer/node_modules/@nextcloud/dialogs/node_modules/@nextcloud/paths/dist/index.mjs","webpack:///files_pdfviewer/node_modules/@nextcloud/dialogs/dist/chunks/FilePicker-CtWlxGEm.mjs"],"sourcesContent":["/*!\n * SPDX-FileCopyrightText: 2025 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\nexport var ShareType;\n(function (ShareType) {\n    ShareType[ShareType[\"User\"] = 0] = \"User\";\n    ShareType[ShareType[\"Group\"] = 1] = \"Group\";\n    ShareType[ShareType[\"Link\"] = 3] = \"Link\";\n    ShareType[ShareType[\"Email\"] = 4] = \"Email\";\n    ShareType[ShareType[\"Remote\"] = 6] = \"Remote\";\n    /**\n     * Was called `Circle` before Nextcloud 29\n     */\n    ShareType[ShareType[\"Team\"] = 7] = \"Team\";\n    ShareType[ShareType[\"Guest\"] = 8] = \"Guest\";\n    ShareType[ShareType[\"RemoteGroup\"] = 9] = \"RemoteGroup\";\n    ShareType[ShareType[\"Room\"] = 10] = \"Room\";\n    ShareType[ShareType[\"Deck\"] = 12] = \"Deck\";\n    /**\n     * @since 26.0.0\n     */\n    ShareType[ShareType[\"FederatedGroup\"] = 14] = \"FederatedGroup\";\n    /**\n     * Third party share types\n     *\n     * @since 25.0.0\n     */\n    ShareType[ShareType[\"ScienceMesh\"] = 15] = \"ScienceMesh\";\n})(ShareType || (ShareType = {}));\n","/**\n * SPDX-FileCopyrightText: 2019 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: GPL-3.0-or-later\n */\n/**\n * @param app app ID, e.g. \"mail\"\n * @param key name of the property\n * @param fallback optional parameter to use as default value\n * @throws if the key can't be found\n */\nexport function loadState(app, key, fallback) {\n    const selector = `#initial-state-${app}-${key}`;\n    if (window._nc_initial_state?.has(selector)) {\n        return window._nc_initial_state.get(selector);\n    }\n    else if (!window._nc_initial_state) {\n        window._nc_initial_state = new Map();\n    }\n    const elem = document.querySelector(selector);\n    if (elem === null) {\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not find initial state ${key} of ${app}`);\n    }\n    try {\n        const parsedValue = JSON.parse(atob(elem.value));\n        window._nc_initial_state.set(selector, parsedValue);\n        return parsedValue;\n    }\n    catch (error) {\n        console.error('[@nextcloud/initial-state] Could not parse initial state', { key, app, error });\n        if (fallback !== undefined) {\n            return fallback;\n        }\n        throw new Error(`Could not parse initial state ${key} of ${app}`, { cause: error });\n    }\n}\n","import { shallowRef, watchEffect, readonly, watch, customRef, getCurrentScope, onScopeDispose, effectScope, getCurrentInstance, hasInjectionContext, inject, provide, ref, isRef, unref, toValue as toValue$1, computed, reactive, toRefs as toRefs$1, toRef as toRef$1, shallowReadonly, onBeforeMount, nextTick, onBeforeUnmount, onMounted, onUnmounted, isReactive } from 'vue';\n\nfunction computedEager(fn, options) {\n  var _a;\n  const result = shallowRef();\n  watchEffect(() => {\n    result.value = fn();\n  }, {\n    ...options,\n    flush: (_a = options == null ? void 0 : options.flush) != null ? _a : \"sync\"\n  });\n  return readonly(result);\n}\n\nfunction computedWithControl(source, fn, options = {}) {\n  let v = void 0;\n  let track;\n  let trigger;\n  let dirty = true;\n  const update = () => {\n    dirty = true;\n    trigger();\n  };\n  watch(source, update, { flush: \"sync\", ...options });\n  const get = typeof fn === \"function\" ? fn : fn.get;\n  const set = typeof fn === \"function\" ? void 0 : fn.set;\n  const result = customRef((_track, _trigger) => {\n    track = _track;\n    trigger = _trigger;\n    return {\n      get() {\n        if (dirty) {\n          v = get(v);\n          dirty = false;\n        }\n        track();\n        return v;\n      },\n      set(v2) {\n        set == null ? void 0 : set(v2);\n      }\n    };\n  });\n  result.trigger = update;\n  return result;\n}\n\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction createEventHook() {\n  const fns = /* @__PURE__ */ new Set();\n  const off = (fn) => {\n    fns.delete(fn);\n  };\n  const clear = () => {\n    fns.clear();\n  };\n  const on = (fn) => {\n    fns.add(fn);\n    const offFn = () => off(fn);\n    tryOnScopeDispose(offFn);\n    return {\n      off: offFn\n    };\n  };\n  const trigger = (...args) => {\n    return Promise.all(Array.from(fns).map((fn) => fn(...args)));\n  };\n  return {\n    on,\n    off,\n    trigger,\n    clear\n  };\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction createGlobalState(stateFactory) {\n  let initialized = false;\n  let state;\n  const scope = effectScope(true);\n  return (...args) => {\n    if (!initialized) {\n      state = scope.run(() => stateFactory(...args));\n      initialized = true;\n    }\n    return state;\n  };\n}\n\nconst localProvidedStateMap = /* @__PURE__ */ new WeakMap();\n\nconst injectLocal = /* @__NO_SIDE_EFFECTS__ */ (...args) => {\n  var _a;\n  const key = args[0];\n  const instance = (_a = getCurrentInstance()) == null ? void 0 : _a.proxy;\n  if (instance == null && !hasInjectionContext())\n    throw new Error(\"injectLocal must be called in setup\");\n  if (instance && localProvidedStateMap.has(instance) && key in localProvidedStateMap.get(instance))\n    return localProvidedStateMap.get(instance)[key];\n  return inject(...args);\n};\n\nfunction provideLocal(key, value) {\n  var _a;\n  const instance = (_a = getCurrentInstance()) == null ? void 0 : _a.proxy;\n  if (instance == null)\n    throw new Error(\"provideLocal must be called in setup\");\n  if (!localProvidedStateMap.has(instance))\n    localProvidedStateMap.set(instance, /* @__PURE__ */ Object.create(null));\n  const localProvidedState = localProvidedStateMap.get(instance);\n  localProvidedState[key] = value;\n  return provide(key, value);\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction createInjectionState(composable, options) {\n  const key = (options == null ? void 0 : options.injectionKey) || Symbol(composable.name || \"InjectionState\");\n  const defaultValue = options == null ? void 0 : options.defaultValue;\n  const useProvidingState = (...args) => {\n    const state = composable(...args);\n    provideLocal(key, state);\n    return state;\n  };\n  const useInjectedState = () => injectLocal(key, defaultValue);\n  return [useProvidingState, useInjectedState];\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction createRef(value, deep) {\n  if (deep === true) {\n    return ref(value);\n  } else {\n    return shallowRef(value);\n  }\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction createSharedComposable(composable) {\n  let subscribers = 0;\n  let state;\n  let scope;\n  const dispose = () => {\n    subscribers -= 1;\n    if (scope && subscribers <= 0) {\n      scope.stop();\n      state = void 0;\n      scope = void 0;\n    }\n  };\n  return (...args) => {\n    subscribers += 1;\n    if (!scope) {\n      scope = effectScope(true);\n      state = scope.run(() => composable(...args));\n    }\n    tryOnScopeDispose(dispose);\n    return state;\n  };\n}\n\nfunction extendRef(ref, extend, { enumerable = false, unwrap = true } = {}) {\n  for (const [key, value] of Object.entries(extend)) {\n    if (key === \"value\")\n      continue;\n    if (isRef(value) && unwrap) {\n      Object.defineProperty(ref, key, {\n        get() {\n          return value.value;\n        },\n        set(v) {\n          value.value = v;\n        },\n        enumerable\n      });\n    } else {\n      Object.defineProperty(ref, key, { value, enumerable });\n    }\n  }\n  return ref;\n}\n\nfunction get(obj, key) {\n  if (key == null)\n    return unref(obj);\n  return unref(obj)[key];\n}\n\nfunction isDefined(v) {\n  return unref(v) != null;\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction makeDestructurable(obj, arr) {\n  if (typeof Symbol !== \"undefined\") {\n    const clone = { ...obj };\n    Object.defineProperty(clone, Symbol.iterator, {\n      enumerable: false,\n      value() {\n        let index = 0;\n        return {\n          next: () => ({\n            value: arr[index++],\n            done: index > arr.length\n          })\n        };\n      }\n    });\n    return clone;\n  } else {\n    return Object.assign([...arr], obj);\n  }\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction reactify(fn, options) {\n  const unrefFn = (options == null ? void 0 : options.computedGetter) === false ? unref : toValue$1;\n  return function(...args) {\n    return computed(() => fn.apply(this, args.map((i) => unrefFn(i))));\n  };\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction reactifyObject(obj, optionsOrKeys = {}) {\n  let keys = [];\n  let options;\n  if (Array.isArray(optionsOrKeys)) {\n    keys = optionsOrKeys;\n  } else {\n    options = optionsOrKeys;\n    const { includeOwnProperties = true } = optionsOrKeys;\n    keys.push(...Object.keys(obj));\n    if (includeOwnProperties)\n      keys.push(...Object.getOwnPropertyNames(obj));\n  }\n  return Object.fromEntries(\n    keys.map((key) => {\n      const value = obj[key];\n      return [\n        key,\n        typeof value === \"function\" ? reactify(value.bind(obj), options) : value\n      ];\n    })\n  );\n}\n\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef))\n    return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value))\n        objectRef.value[p].value = value;\n      else\n        objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\n\nfunction reactiveComputed(fn) {\n  return toReactive(computed(fn));\n}\n\nfunction reactiveOmit(obj, ...keys) {\n  const flatKeys = keys.flat();\n  const predicate = flatKeys[0];\n  return reactiveComputed(() => typeof predicate === \"function\" ? Object.fromEntries(Object.entries(toRefs$1(obj)).filter(([k, v]) => !predicate(toValue$1(v), k))) : Object.fromEntries(Object.entries(toRefs$1(obj)).filter((e) => !flatKeys.includes(e[0]))));\n}\n\nconst isClient = typeof window !== \"undefined\" && typeof document !== \"undefined\";\nconst isWorker = typeof WorkerGlobalScope !== \"undefined\" && globalThis instanceof WorkerGlobalScope;\nconst isDef = (val) => typeof val !== \"undefined\";\nconst notNullish = (val) => val != null;\nconst assert = (condition, ...infos) => {\n  if (!condition)\n    console.warn(...infos);\n};\nconst toString = Object.prototype.toString;\nconst isObject = (val) => toString.call(val) === \"[object Object]\";\nconst now = () => Date.now();\nconst timestamp = () => +Date.now();\nconst clamp = (n, min, max) => Math.min(max, Math.max(min, n));\nconst noop = () => {\n};\nconst rand = (min, max) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n};\nconst hasOwn = (val, key) => Object.prototype.hasOwnProperty.call(val, key);\nconst isIOS = /* @__PURE__ */ getIsIOS();\nfunction getIsIOS() {\n  var _a, _b;\n  return isClient && ((_a = window == null ? void 0 : window.navigator) == null ? void 0 : _a.userAgent) && (/iP(?:ad|hone|od)/.test(window.navigator.userAgent) || ((_b = window == null ? void 0 : window.navigator) == null ? void 0 : _b.maxTouchPoints) > 2 && /iPad|Macintosh/.test(window == null ? void 0 : window.navigator.userAgent));\n}\n\nfunction toRef(...args) {\n  if (args.length !== 1)\n    return toRef$1(...args);\n  const r = args[0];\n  return typeof r === \"function\" ? readonly(customRef(() => ({ get: r, set: noop }))) : ref(r);\n}\nconst resolveRef = toRef;\n\nfunction reactivePick(obj, ...keys) {\n  const flatKeys = keys.flat();\n  const predicate = flatKeys[0];\n  return reactiveComputed(() => typeof predicate === \"function\" ? Object.fromEntries(Object.entries(toRefs$1(obj)).filter(([k, v]) => predicate(toValue$1(v), k))) : Object.fromEntries(flatKeys.map((k) => [k, toRef(obj, k)])));\n}\n\nfunction refAutoReset(defaultValue, afterMs = 1e4) {\n  return customRef((track, trigger) => {\n    let value = toValue$1(defaultValue);\n    let timer;\n    const resetAfter = () => setTimeout(() => {\n      value = toValue$1(defaultValue);\n      trigger();\n    }, toValue$1(afterMs));\n    tryOnScopeDispose(() => {\n      clearTimeout(timer);\n    });\n    return {\n      get() {\n        track();\n        return value;\n      },\n      set(newValue) {\n        value = newValue;\n        trigger();\n        clearTimeout(timer);\n        timer = resetAfter();\n      }\n    };\n  });\n}\n\nfunction createFilterWrapper(filter, fn) {\n  function wrapper(...args) {\n    return new Promise((resolve, reject) => {\n      Promise.resolve(filter(() => fn.apply(this, args), { fn, thisArg: this, args })).then(resolve).catch(reject);\n    });\n  }\n  return wrapper;\n}\nconst bypassFilter = (invoke) => {\n  return invoke();\n};\nfunction debounceFilter(ms, options = {}) {\n  let timer;\n  let maxTimer;\n  let lastRejector = noop;\n  const _clearTimeout = (timer2) => {\n    clearTimeout(timer2);\n    lastRejector();\n    lastRejector = noop;\n  };\n  let lastInvoker;\n  const filter = (invoke) => {\n    const duration = toValue$1(ms);\n    const maxDuration = toValue$1(options.maxWait);\n    if (timer)\n      _clearTimeout(timer);\n    if (duration <= 0 || maxDuration !== void 0 && maxDuration <= 0) {\n      if (maxTimer) {\n        _clearTimeout(maxTimer);\n        maxTimer = void 0;\n      }\n      return Promise.resolve(invoke());\n    }\n    return new Promise((resolve, reject) => {\n      lastRejector = options.rejectOnCancel ? reject : resolve;\n      lastInvoker = invoke;\n      if (maxDuration && !maxTimer) {\n        maxTimer = setTimeout(() => {\n          if (timer)\n            _clearTimeout(timer);\n          maxTimer = void 0;\n          resolve(lastInvoker());\n        }, maxDuration);\n      }\n      timer = setTimeout(() => {\n        if (maxTimer)\n          _clearTimeout(maxTimer);\n        maxTimer = void 0;\n        resolve(invoke());\n      }, duration);\n    });\n  };\n  return filter;\n}\nfunction throttleFilter(...args) {\n  let lastExec = 0;\n  let timer;\n  let isLeading = true;\n  let lastRejector = noop;\n  let lastValue;\n  let ms;\n  let trailing;\n  let leading;\n  let rejectOnCancel;\n  if (!isRef(args[0]) && typeof args[0] === \"object\")\n    ({ delay: ms, trailing = true, leading = true, rejectOnCancel = false } = args[0]);\n  else\n    [ms, trailing = true, leading = true, rejectOnCancel = false] = args;\n  const clear = () => {\n    if (timer) {\n      clearTimeout(timer);\n      timer = void 0;\n      lastRejector();\n      lastRejector = noop;\n    }\n  };\n  const filter = (_invoke) => {\n    const duration = toValue$1(ms);\n    const elapsed = Date.now() - lastExec;\n    const invoke = () => {\n      return lastValue = _invoke();\n    };\n    clear();\n    if (duration <= 0) {\n      lastExec = Date.now();\n      return invoke();\n    }\n    if (elapsed > duration && (leading || !isLeading)) {\n      lastExec = Date.now();\n      invoke();\n    } else if (trailing) {\n      lastValue = new Promise((resolve, reject) => {\n        lastRejector = rejectOnCancel ? reject : resolve;\n        timer = setTimeout(() => {\n          lastExec = Date.now();\n          isLeading = true;\n          resolve(invoke());\n          clear();\n        }, Math.max(0, duration - elapsed));\n      });\n    }\n    if (!leading && !timer)\n      timer = setTimeout(() => isLeading = true, duration);\n    isLeading = false;\n    return lastValue;\n  };\n  return filter;\n}\nfunction pausableFilter(extendFilter = bypassFilter, options = {}) {\n  const {\n    initialState = \"active\"\n  } = options;\n  const isActive = toRef(initialState === \"active\");\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value)\n      extendFilter(...args);\n  };\n  return { isActive: readonly(isActive), pause, resume, eventFilter };\n}\n\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout)\n      setTimeout(() => reject(reason), ms);\n    else\n      setTimeout(resolve, ms);\n  });\n}\nfunction identity(arg) {\n  return arg;\n}\nfunction createSingletonPromise(fn) {\n  let _promise;\n  function wrapper() {\n    if (!_promise)\n      _promise = fn();\n    return _promise;\n  }\n  wrapper.reset = async () => {\n    const _prev = _promise;\n    _promise = void 0;\n    if (_prev)\n      await _prev;\n  };\n  return wrapper;\n}\nfunction invoke(fn) {\n  return fn();\n}\nfunction containsProp(obj, ...props) {\n  return props.some((k) => k in obj);\n}\nfunction increaseWithUnit(target, delta) {\n  var _a;\n  if (typeof target === \"number\")\n    return target + delta;\n  const value = ((_a = target.match(/^-?\\d+\\.?\\d*/)) == null ? void 0 : _a[0]) || \"\";\n  const unit = target.slice(value.length);\n  const result = Number.parseFloat(value) + delta;\n  if (Number.isNaN(result))\n    return target;\n  return result + unit;\n}\nfunction pxValue(px) {\n  return px.endsWith(\"rem\") ? Number.parseFloat(px) * 16 : Number.parseFloat(px);\n}\nfunction objectPick(obj, keys, omitUndefined = false) {\n  return keys.reduce((n, k) => {\n    if (k in obj) {\n      if (!omitUndefined || obj[k] !== void 0)\n        n[k] = obj[k];\n    }\n    return n;\n  }, {});\n}\nfunction objectOmit(obj, keys, omitUndefined = false) {\n  return Object.fromEntries(Object.entries(obj).filter(([key, value]) => {\n    return (!omitUndefined || value !== void 0) && !keys.includes(key);\n  }));\n}\nfunction objectEntries(obj) {\n  return Object.entries(obj);\n}\nfunction toArray(value) {\n  return Array.isArray(value) ? value : [value];\n}\n\nfunction cacheStringFunction(fn) {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n}\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, \"-$1\").toLowerCase());\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\n\nfunction getLifeCycleTarget(target) {\n  return target || getCurrentInstance();\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useDebounceFn(fn, ms = 200, options = {}) {\n  return createFilterWrapper(\n    debounceFilter(ms, options),\n    fn\n  );\n}\n\nfunction refDebounced(value, ms = 200, options = {}) {\n  const debounced = ref(toValue$1(value));\n  const updater = useDebounceFn(() => {\n    debounced.value = value.value;\n  }, ms, options);\n  watch(value, () => updater());\n  return shallowReadonly(debounced);\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction refDefault(source, defaultValue) {\n  return computed({\n    get() {\n      var _a;\n      return (_a = source.value) != null ? _a : defaultValue;\n    },\n    set(value) {\n      source.value = value;\n    }\n  });\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useThrottleFn(fn, ms = 200, trailing = false, leading = true, rejectOnCancel = false) {\n  return createFilterWrapper(\n    throttleFilter(ms, trailing, leading, rejectOnCancel),\n    fn\n  );\n}\n\nfunction refThrottled(value, delay = 200, trailing = true, leading = true) {\n  if (delay <= 0)\n    return value;\n  const throttled = ref(toValue$1(value));\n  const updater = useThrottleFn(() => {\n    throttled.value = value.value;\n  }, delay, trailing, leading);\n  watch(value, () => updater());\n  return throttled;\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction refWithControl(initial, options = {}) {\n  let source = initial;\n  let track;\n  let trigger;\n  const ref = customRef((_track, _trigger) => {\n    track = _track;\n    trigger = _trigger;\n    return {\n      get() {\n        return get();\n      },\n      set(v) {\n        set(v);\n      }\n    };\n  });\n  function get(tracking = true) {\n    if (tracking)\n      track();\n    return source;\n  }\n  function set(value, triggering = true) {\n    var _a, _b;\n    if (value === source)\n      return;\n    const old = source;\n    if (((_a = options.onBeforeChange) == null ? void 0 : _a.call(options, value, old)) === false)\n      return;\n    source = value;\n    (_b = options.onChanged) == null ? void 0 : _b.call(options, value, old);\n    if (triggering)\n      trigger();\n  }\n  const untrackedGet = () => get(false);\n  const silentSet = (v) => set(v, false);\n  const peek = () => get(false);\n  const lay = (v) => set(v, false);\n  return extendRef(\n    ref,\n    {\n      get,\n      set,\n      untrackedGet,\n      silentSet,\n      peek,\n      lay\n    },\n    { enumerable: true }\n  );\n}\nconst controlledRef = refWithControl;\n\nfunction set(...args) {\n  if (args.length === 2) {\n    const [ref, value] = args;\n    ref.value = value;\n  }\n  if (args.length === 3) {\n    const [target, key, value] = args;\n    target[key] = value;\n  }\n}\n\nfunction watchWithFilter(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  return watch(\n    source,\n    createFilterWrapper(\n      eventFilter,\n      cb\n    ),\n    watchOptions\n  );\n}\n\nfunction watchPausable(source, cb, options = {}) {\n  const {\n    eventFilter: filter,\n    initialState = \"active\",\n    ...watchOptions\n  } = options;\n  const { eventFilter, pause, resume, isActive } = pausableFilter(filter, { initialState });\n  const stop = watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter\n    }\n  );\n  return { stop, pause, resume, isActive };\n}\n\nfunction syncRef(left, right, ...[options]) {\n  const {\n    flush = \"sync\",\n    deep = false,\n    immediate = true,\n    direction = \"both\",\n    transform = {}\n  } = options || {};\n  const watchers = [];\n  const transformLTR = \"ltr\" in transform && transform.ltr || ((v) => v);\n  const transformRTL = \"rtl\" in transform && transform.rtl || ((v) => v);\n  if (direction === \"both\" || direction === \"ltr\") {\n    watchers.push(watchPausable(\n      left,\n      (newValue) => {\n        watchers.forEach((w) => w.pause());\n        right.value = transformLTR(newValue);\n        watchers.forEach((w) => w.resume());\n      },\n      { flush, deep, immediate }\n    ));\n  }\n  if (direction === \"both\" || direction === \"rtl\") {\n    watchers.push(watchPausable(\n      right,\n      (newValue) => {\n        watchers.forEach((w) => w.pause());\n        left.value = transformRTL(newValue);\n        watchers.forEach((w) => w.resume());\n      },\n      { flush, deep, immediate }\n    ));\n  }\n  const stop = () => {\n    watchers.forEach((w) => w.stop());\n  };\n  return stop;\n}\n\nfunction syncRefs(source, targets, options = {}) {\n  const {\n    flush = \"sync\",\n    deep = false,\n    immediate = true\n  } = options;\n  const targetsArray = toArray(targets);\n  return watch(\n    source,\n    (newValue) => targetsArray.forEach((target) => target.value = newValue),\n    { flush, deep, immediate }\n  );\n}\n\nfunction toRefs(objectRef, options = {}) {\n  if (!isRef(objectRef))\n    return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? Array.from({ length: objectRef.value.length }) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        var _a;\n        const replaceRef = (_a = toValue$1(options.replaceRef)) != null ? _a : true;\n        if (replaceRef) {\n          if (Array.isArray(objectRef.value)) {\n            const copy = [...objectRef.value];\n            copy[key] = v;\n            objectRef.value = copy;\n          } else {\n            const newObject = { ...objectRef.value, [key]: v };\n            Object.setPrototypeOf(newObject, Object.getPrototypeOf(objectRef.value));\n            objectRef.value = newObject;\n          }\n        } else {\n          objectRef.value[key] = v;\n        }\n      }\n    }));\n  }\n  return result;\n}\n\nconst toValue = toValue$1;\nconst resolveUnref = toValue$1;\n\nfunction tryOnBeforeMount(fn, sync = true, target) {\n  const instance = getLifeCycleTarget(target);\n  if (instance)\n    onBeforeMount(fn, target);\n  else if (sync)\n    fn();\n  else\n    nextTick(fn);\n}\n\nfunction tryOnBeforeUnmount(fn, target) {\n  const instance = getLifeCycleTarget(target);\n  if (instance)\n    onBeforeUnmount(fn, target);\n}\n\nfunction tryOnMounted(fn, sync = true, target) {\n  const instance = getLifeCycleTarget(target);\n  if (instance)\n    onMounted(fn, target);\n  else if (sync)\n    fn();\n  else\n    nextTick(fn);\n}\n\nfunction tryOnUnmounted(fn, target) {\n  const instance = getLifeCycleTarget(target);\n  if (instance)\n    onUnmounted(fn, target);\n}\n\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, { flush = \"sync\", deep = false, timeout, throwOnTimeout } = {}) {\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        r,\n        (v) => {\n          if (condition(v) !== isNot) {\n            if (stop)\n              stop();\n            else\n              nextTick(() => stop == null ? void 0 : stop());\n            resolve(v);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout != null) {\n      promises.push(\n        promiseTimeout(timeout, throwOnTimeout).then(() => toValue$1(r)).finally(() => stop == null ? void 0 : stop())\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value))\n      return toMatch((v) => v === value, options);\n    const { flush = \"sync\", deep = false, timeout, throwOnTimeout } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        [r, value],\n        ([v1, v2]) => {\n          if (isNot !== (v1 === v2)) {\n            if (stop)\n              stop();\n            else\n              nextTick(() => stop == null ? void 0 : stop());\n            resolve(v1);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout != null) {\n      promises.push(\n        promiseTimeout(timeout, throwOnTimeout).then(() => toValue$1(r)).finally(() => {\n          stop == null ? void 0 : stop();\n          return toValue$1(r);\n        })\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch((v) => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch((v) => {\n      const array = Array.from(v);\n      return array.includes(value) || array.includes(toValue$1(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(toValue$1(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\n\nfunction defaultComparator(value, othVal) {\n  return value === othVal;\n}\n// @__NO_SIDE_EFFECTS__\nfunction useArrayDifference(...args) {\n  var _a, _b;\n  const list = args[0];\n  const values = args[1];\n  let compareFn = (_a = args[2]) != null ? _a : defaultComparator;\n  const {\n    symmetric = false\n  } = (_b = args[3]) != null ? _b : {};\n  if (typeof compareFn === \"string\") {\n    const key = compareFn;\n    compareFn = (value, othVal) => value[key] === othVal[key];\n  }\n  const diff1 = computed(() => toValue$1(list).filter((x) => toValue$1(values).findIndex((y) => compareFn(x, y)) === -1));\n  if (symmetric) {\n    const diff2 = computed(() => toValue$1(values).filter((x) => toValue$1(list).findIndex((y) => compareFn(x, y)) === -1));\n    return computed(() => symmetric ? [...toValue$1(diff1), ...toValue$1(diff2)] : toValue$1(diff1));\n  } else {\n    return diff1;\n  }\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArrayEvery(list, fn) {\n  return computed(() => toValue$1(list).every((element, index, array) => fn(toValue$1(element), index, array)));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArrayFilter(list, fn) {\n  return computed(() => toValue$1(list).map((i) => toValue$1(i)).filter(fn));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArrayFind(list, fn) {\n  return computed(() => toValue$1(\n    toValue$1(list).find((element, index, array) => fn(toValue$1(element), index, array))\n  ));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArrayFindIndex(list, fn) {\n  return computed(() => toValue$1(list).findIndex((element, index, array) => fn(toValue$1(element), index, array)));\n}\n\nfunction findLast(arr, cb) {\n  let index = arr.length;\n  while (index-- > 0) {\n    if (cb(arr[index], index, arr))\n      return arr[index];\n  }\n  return void 0;\n}\n// @__NO_SIDE_EFFECTS__\nfunction useArrayFindLast(list, fn) {\n  return computed(() => toValue$1(\n    !Array.prototype.findLast ? findLast(toValue$1(list), (element, index, array) => fn(toValue$1(element), index, array)) : toValue$1(list).findLast((element, index, array) => fn(toValue$1(element), index, array))\n  ));\n}\n\nfunction isArrayIncludesOptions(obj) {\n  return isObject(obj) && containsProp(obj, \"formIndex\", \"comparator\");\n}\n// @__NO_SIDE_EFFECTS__\nfunction useArrayIncludes(...args) {\n  var _a;\n  const list = args[0];\n  const value = args[1];\n  let comparator = args[2];\n  let formIndex = 0;\n  if (isArrayIncludesOptions(comparator)) {\n    formIndex = (_a = comparator.fromIndex) != null ? _a : 0;\n    comparator = comparator.comparator;\n  }\n  if (typeof comparator === \"string\") {\n    const key = comparator;\n    comparator = (element, value2) => element[key] === toValue$1(value2);\n  }\n  comparator = comparator != null ? comparator : (element, value2) => element === toValue$1(value2);\n  return computed(() => toValue$1(list).slice(formIndex).some((element, index, array) => comparator(\n    toValue$1(element),\n    toValue$1(value),\n    index,\n    toValue$1(array)\n  )));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArrayJoin(list, separator) {\n  return computed(() => toValue$1(list).map((i) => toValue$1(i)).join(toValue$1(separator)));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArrayMap(list, fn) {\n  return computed(() => toValue$1(list).map((i) => toValue$1(i)).map(fn));\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArrayReduce(list, reducer, ...args) {\n  const reduceCallback = (sum, value, index) => reducer(toValue$1(sum), toValue$1(value), index);\n  return computed(() => {\n    const resolved = toValue$1(list);\n    return args.length ? resolved.reduce(reduceCallback, typeof args[0] === \"function\" ? toValue$1(args[0]()) : toValue$1(args[0])) : resolved.reduce(reduceCallback);\n  });\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useArraySome(list, fn) {\n  return computed(() => toValue$1(list).some((element, index, array) => fn(toValue$1(element), index, array)));\n}\n\nfunction uniq(array) {\n  return Array.from(new Set(array));\n}\nfunction uniqueElementsBy(array, fn) {\n  return array.reduce((acc, v) => {\n    if (!acc.some((x) => fn(v, x, array)))\n      acc.push(v);\n    return acc;\n  }, []);\n}\n// @__NO_SIDE_EFFECTS__\nfunction useArrayUnique(list, compareFn) {\n  return computed(() => {\n    const resolvedList = toValue$1(list).map((element) => toValue$1(element));\n    return compareFn ? uniqueElementsBy(resolvedList, compareFn) : uniq(resolvedList);\n  });\n}\n\nfunction useCounter(initialValue = 0, options = {}) {\n  let _initialValue = unref(initialValue);\n  const count = shallowRef(initialValue);\n  const {\n    max = Number.POSITIVE_INFINITY,\n    min = Number.NEGATIVE_INFINITY\n  } = options;\n  const inc = (delta = 1) => count.value = Math.max(Math.min(max, count.value + delta), min);\n  const dec = (delta = 1) => count.value = Math.min(Math.max(min, count.value - delta), max);\n  const get = () => count.value;\n  const set = (val) => count.value = Math.max(min, Math.min(max, val));\n  const reset = (val = _initialValue) => {\n    _initialValue = val;\n    return set(val);\n  };\n  return { count: shallowReadonly(count), inc, dec, get, set, reset };\n}\n\nconst REGEX_PARSE = /^(\\d{4})[-/]?(\\d{1,2})?[-/]?(\\d{0,2})[T\\s]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?[.:]?(\\d+)?$/i;\nconst REGEX_FORMAT = /[YMDHhms]o|\\[([^\\]]+)\\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|z{1,4}|SSS/g;\nfunction defaultMeridiem(hours, minutes, isLowercase, hasPeriod) {\n  let m = hours < 12 ? \"AM\" : \"PM\";\n  if (hasPeriod)\n    m = m.split(\"\").reduce((acc, curr) => acc += `${curr}.`, \"\");\n  return isLowercase ? m.toLowerCase() : m;\n}\nfunction formatOrdinal(num) {\n  const suffixes = [\"th\", \"st\", \"nd\", \"rd\"];\n  const v = num % 100;\n  return num + (suffixes[(v - 20) % 10] || suffixes[v] || suffixes[0]);\n}\nfunction formatDate(date, formatStr, options = {}) {\n  var _a;\n  const years = date.getFullYear();\n  const month = date.getMonth();\n  const days = date.getDate();\n  const hours = date.getHours();\n  const minutes = date.getMinutes();\n  const seconds = date.getSeconds();\n  const milliseconds = date.getMilliseconds();\n  const day = date.getDay();\n  const meridiem = (_a = options.customMeridiem) != null ? _a : defaultMeridiem;\n  const stripTimeZone = (dateString) => {\n    var _a2;\n    return (_a2 = dateString.split(\" \")[1]) != null ? _a2 : \"\";\n  };\n  const matches = {\n    Yo: () => formatOrdinal(years),\n    YY: () => String(years).slice(-2),\n    YYYY: () => years,\n    M: () => month + 1,\n    Mo: () => formatOrdinal(month + 1),\n    MM: () => `${month + 1}`.padStart(2, \"0\"),\n    MMM: () => date.toLocaleDateString(toValue$1(options.locales), { month: \"short\" }),\n    MMMM: () => date.toLocaleDateString(toValue$1(options.locales), { month: \"long\" }),\n    D: () => String(days),\n    Do: () => formatOrdinal(days),\n    DD: () => `${days}`.padStart(2, \"0\"),\n    H: () => String(hours),\n    Ho: () => formatOrdinal(hours),\n    HH: () => `${hours}`.padStart(2, \"0\"),\n    h: () => `${hours % 12 || 12}`.padStart(1, \"0\"),\n    ho: () => formatOrdinal(hours % 12 || 12),\n    hh: () => `${hours % 12 || 12}`.padStart(2, \"0\"),\n    m: () => String(minutes),\n    mo: () => formatOrdinal(minutes),\n    mm: () => `${minutes}`.padStart(2, \"0\"),\n    s: () => String(seconds),\n    so: () => formatOrdinal(seconds),\n    ss: () => `${seconds}`.padStart(2, \"0\"),\n    SSS: () => `${milliseconds}`.padStart(3, \"0\"),\n    d: () => day,\n    dd: () => date.toLocaleDateString(toValue$1(options.locales), { weekday: \"narrow\" }),\n    ddd: () => date.toLocaleDateString(toValue$1(options.locales), { weekday: \"short\" }),\n    dddd: () => date.toLocaleDateString(toValue$1(options.locales), { weekday: \"long\" }),\n    A: () => meridiem(hours, minutes),\n    AA: () => meridiem(hours, minutes, false, true),\n    a: () => meridiem(hours, minutes, true),\n    aa: () => meridiem(hours, minutes, true, true),\n    z: () => stripTimeZone(date.toLocaleDateString(toValue$1(options.locales), { timeZoneName: \"shortOffset\" })),\n    zz: () => stripTimeZone(date.toLocaleDateString(toValue$1(options.locales), { timeZoneName: \"shortOffset\" })),\n    zzz: () => stripTimeZone(date.toLocaleDateString(toValue$1(options.locales), { timeZoneName: \"shortOffset\" })),\n    zzzz: () => stripTimeZone(date.toLocaleDateString(toValue$1(options.locales), { timeZoneName: \"longOffset\" }))\n  };\n  return formatStr.replace(REGEX_FORMAT, (match, $1) => {\n    var _a2, _b;\n    return (_b = $1 != null ? $1 : (_a2 = matches[match]) == null ? void 0 : _a2.call(matches)) != null ? _b : match;\n  });\n}\nfunction normalizeDate(date) {\n  if (date === null)\n    return new Date(Number.NaN);\n  if (date === void 0)\n    return /* @__PURE__ */ new Date();\n  if (date instanceof Date)\n    return new Date(date);\n  if (typeof date === \"string\" && !/Z$/i.test(date)) {\n    const d = date.match(REGEX_PARSE);\n    if (d) {\n      const m = d[2] - 1 || 0;\n      const ms = (d[7] || \"0\").substring(0, 3);\n      return new Date(d[1], m, d[3] || 1, d[4] || 0, d[5] || 0, d[6] || 0, ms);\n    }\n  }\n  return new Date(date);\n}\n// @__NO_SIDE_EFFECTS__\nfunction useDateFormat(date, formatStr = \"HH:mm:ss\", options = {}) {\n  return computed(() => formatDate(normalizeDate(toValue$1(date)), toValue$1(formatStr), options));\n}\n\nfunction useIntervalFn(cb, interval = 1e3, options = {}) {\n  const {\n    immediate = true,\n    immediateCallback = false\n  } = options;\n  let timer = null;\n  const isActive = shallowRef(false);\n  function clean() {\n    if (timer) {\n      clearInterval(timer);\n      timer = null;\n    }\n  }\n  function pause() {\n    isActive.value = false;\n    clean();\n  }\n  function resume() {\n    const intervalValue = toValue$1(interval);\n    if (intervalValue <= 0)\n      return;\n    isActive.value = true;\n    if (immediateCallback)\n      cb();\n    clean();\n    if (isActive.value)\n      timer = setInterval(cb, intervalValue);\n  }\n  if (immediate && isClient)\n    resume();\n  if (isRef(interval) || typeof interval === \"function\") {\n    const stopWatch = watch(interval, () => {\n      if (isActive.value && isClient)\n        resume();\n    });\n    tryOnScopeDispose(stopWatch);\n  }\n  tryOnScopeDispose(pause);\n  return {\n    isActive: shallowReadonly(isActive),\n    pause,\n    resume\n  };\n}\n\nfunction useInterval(interval = 1e3, options = {}) {\n  const {\n    controls: exposeControls = false,\n    immediate = true,\n    callback\n  } = options;\n  const counter = shallowRef(0);\n  const update = () => counter.value += 1;\n  const reset = () => {\n    counter.value = 0;\n  };\n  const controls = useIntervalFn(\n    callback ? () => {\n      update();\n      callback(counter.value);\n    } : update,\n    interval,\n    { immediate }\n  );\n  if (exposeControls) {\n    return {\n      counter: shallowReadonly(counter),\n      reset,\n      ...controls\n    };\n  } else {\n    return shallowReadonly(counter);\n  }\n}\n\nfunction useLastChanged(source, options = {}) {\n  var _a;\n  const ms = shallowRef((_a = options.initialValue) != null ? _a : null);\n  watch(\n    source,\n    () => ms.value = timestamp(),\n    options\n  );\n  return shallowReadonly(ms);\n}\n\nfunction useTimeoutFn(cb, interval, options = {}) {\n  const {\n    immediate = true,\n    immediateCallback = false\n  } = options;\n  const isPending = shallowRef(false);\n  let timer;\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = void 0;\n    }\n  }\n  function stop() {\n    isPending.value = false;\n    clear();\n  }\n  function start(...args) {\n    if (immediateCallback)\n      cb();\n    clear();\n    isPending.value = true;\n    timer = setTimeout(() => {\n      isPending.value = false;\n      timer = void 0;\n      cb(...args);\n    }, toValue$1(interval));\n  }\n  if (immediate) {\n    isPending.value = true;\n    if (isClient)\n      start();\n  }\n  tryOnScopeDispose(stop);\n  return {\n    isPending: shallowReadonly(isPending),\n    start,\n    stop\n  };\n}\n\nfunction useTimeout(interval = 1e3, options = {}) {\n  const {\n    controls: exposeControls = false,\n    callback\n  } = options;\n  const controls = useTimeoutFn(\n    callback != null ? callback : noop,\n    interval,\n    options\n  );\n  const ready = computed(() => !controls.isPending.value);\n  if (exposeControls) {\n    return {\n      ready,\n      ...controls\n    };\n  } else {\n    return ready;\n  }\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useToNumber(value, options = {}) {\n  const {\n    method = \"parseFloat\",\n    radix,\n    nanToZero\n  } = options;\n  return computed(() => {\n    let resolved = toValue$1(value);\n    if (typeof method === \"function\")\n      resolved = method(resolved);\n    else if (typeof resolved === \"string\")\n      resolved = Number[method](resolved, radix);\n    if (nanToZero && Number.isNaN(resolved))\n      resolved = 0;\n    return resolved;\n  });\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useToString(value) {\n  return computed(() => `${toValue$1(value)}`);\n}\n\n// @__NO_SIDE_EFFECTS__\nfunction useToggle(initialValue = false, options = {}) {\n  const {\n    truthyValue = true,\n    falsyValue = false\n  } = options;\n  const valueIsRef = isRef(initialValue);\n  const _value = shallowRef(initialValue);\n  function toggle(value) {\n    if (arguments.length) {\n      _value.value = value;\n      return _value.value;\n    } else {\n      const truthy = toValue$1(truthyValue);\n      _value.value = _value.value === truthy ? toValue$1(falsyValue) : truthy;\n      return _value.value;\n    }\n  }\n  if (valueIsRef)\n    return toggle;\n  else\n    return [_value, toggle];\n}\n\nfunction watchArray(source, cb, options) {\n  let oldList = (options == null ? void 0 : options.immediate) ? [] : [...typeof source === \"function\" ? source() : Array.isArray(source) ? source : toValue$1(source)];\n  return watch(source, (newList, _, onCleanup) => {\n    const oldListRemains = Array.from({ length: oldList.length });\n    const added = [];\n    for (const obj of newList) {\n      let found = false;\n      for (let i = 0; i < oldList.length; i++) {\n        if (!oldListRemains[i] && obj === oldList[i]) {\n          oldListRemains[i] = true;\n          found = true;\n          break;\n        }\n      }\n      if (!found)\n        added.push(obj);\n    }\n    const removed = oldList.filter((_2, i) => !oldListRemains[i]);\n    cb(newList, oldList, added, removed, onCleanup);\n    oldList = [...newList];\n  }, options);\n}\n\nfunction watchAtMost(source, cb, options) {\n  const {\n    count,\n    ...watchOptions\n  } = options;\n  const current = shallowRef(0);\n  const stop = watchWithFilter(\n    source,\n    (...args) => {\n      current.value += 1;\n      if (current.value >= toValue$1(count))\n        nextTick(() => stop());\n      cb(...args);\n    },\n    watchOptions\n  );\n  return { count: current, stop };\n}\n\nfunction watchDebounced(source, cb, options = {}) {\n  const {\n    debounce = 0,\n    maxWait = void 0,\n    ...watchOptions\n  } = options;\n  return watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter: debounceFilter(debounce, { maxWait })\n    }\n  );\n}\n\nfunction watchDeep(source, cb, options) {\n  return watch(\n    source,\n    cb,\n    {\n      ...options,\n      deep: true\n    }\n  );\n}\n\nfunction watchIgnorable(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  const filteredCb = createFilterWrapper(\n    eventFilter,\n    cb\n  );\n  let ignoreUpdates;\n  let ignorePrevAsyncUpdates;\n  let stop;\n  if (watchOptions.flush === \"sync\") {\n    let ignore = false;\n    ignorePrevAsyncUpdates = () => {\n    };\n    ignoreUpdates = (updater) => {\n      ignore = true;\n      updater();\n      ignore = false;\n    };\n    stop = watch(\n      source,\n      (...args) => {\n        if (!ignore)\n          filteredCb(...args);\n      },\n      watchOptions\n    );\n  } else {\n    const disposables = [];\n    let ignoreCounter = 0;\n    let syncCounter = 0;\n    ignorePrevAsyncUpdates = () => {\n      ignoreCounter = syncCounter;\n    };\n    disposables.push(\n      watch(\n        source,\n        () => {\n          syncCounter++;\n        },\n        { ...watchOptions, flush: \"sync\" }\n      )\n    );\n    ignoreUpdates = (updater) => {\n      const syncCounterPrev = syncCounter;\n      updater();\n      ignoreCounter += syncCounter - syncCounterPrev;\n    };\n    disposables.push(\n      watch(\n        source,\n        (...args) => {\n          const ignore = ignoreCounter > 0 && ignoreCounter === syncCounter;\n          ignoreCounter = 0;\n          syncCounter = 0;\n          if (ignore)\n            return;\n          filteredCb(...args);\n        },\n        watchOptions\n      )\n    );\n    stop = () => {\n      disposables.forEach((fn) => fn());\n    };\n  }\n  return { stop, ignoreUpdates, ignorePrevAsyncUpdates };\n}\n\nfunction watchImmediate(source, cb, options) {\n  return watch(\n    source,\n    cb,\n    {\n      ...options,\n      immediate: true\n    }\n  );\n}\n\nfunction watchOnce(source, cb, options) {\n  return watch(\n    source,\n    cb,\n    {\n      ...options,\n      once: true\n    }\n  );\n}\n\nfunction watchThrottled(source, cb, options = {}) {\n  const {\n    throttle = 0,\n    trailing = true,\n    leading = true,\n    ...watchOptions\n  } = options;\n  return watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter: throttleFilter(throttle, trailing, leading)\n    }\n  );\n}\n\nfunction watchTriggerable(source, cb, options = {}) {\n  let cleanupFn;\n  function onEffect() {\n    if (!cleanupFn)\n      return;\n    const fn = cleanupFn;\n    cleanupFn = void 0;\n    fn();\n  }\n  function onCleanup(callback) {\n    cleanupFn = callback;\n  }\n  const _cb = (value, oldValue) => {\n    onEffect();\n    return cb(value, oldValue, onCleanup);\n  };\n  const res = watchIgnorable(source, _cb, options);\n  const { ignoreUpdates } = res;\n  const trigger = () => {\n    let res2;\n    ignoreUpdates(() => {\n      res2 = _cb(getWatchSources(source), getOldValue(source));\n    });\n    return res2;\n  };\n  return {\n    ...res,\n    trigger\n  };\n}\nfunction getWatchSources(sources) {\n  if (isReactive(sources))\n    return sources;\n  if (Array.isArray(sources))\n    return sources.map((item) => toValue$1(item));\n  return toValue$1(sources);\n}\nfunction getOldValue(source) {\n  return Array.isArray(source) ? source.map(() => void 0) : void 0;\n}\n\nfunction whenever(source, cb, options) {\n  const stop = watch(\n    source,\n    (v, ov, onInvalidate) => {\n      if (v) {\n        if (options == null ? void 0 : options.once)\n          nextTick(() => stop());\n        cb(v, ov, onInvalidate);\n      }\n    },\n    {\n      ...options,\n      once: false\n    }\n  );\n  return stop;\n}\n\nexport { assert, refAutoReset as autoResetRef, bypassFilter, camelize, clamp, computedEager, computedWithControl, containsProp, computedWithControl as controlledComputed, controlledRef, createEventHook, createFilterWrapper, createGlobalState, createInjectionState, reactify as createReactiveFn, createRef, createSharedComposable, createSingletonPromise, debounceFilter, refDebounced as debouncedRef, watchDebounced as debouncedWatch, computedEager as eagerComputed, extendRef, formatDate, get, getLifeCycleTarget, hasOwn, hyphenate, identity, watchIgnorable as ignorableWatch, increaseWithUnit, injectLocal, invoke, isClient, isDef, isDefined, isIOS, isObject, isWorker, makeDestructurable, noop, normalizeDate, notNullish, now, objectEntries, objectOmit, objectPick, pausableFilter, watchPausable as pausableWatch, promiseTimeout, provideLocal, pxValue, rand, reactify, reactifyObject, reactiveComputed, reactiveOmit, reactivePick, refAutoReset, refDebounced, refDefault, refThrottled, refWithControl, resolveRef, resolveUnref, set, syncRef, syncRefs, throttleFilter, refThrottled as throttledRef, watchThrottled as throttledWatch, timestamp, toArray, toReactive, toRef, toRefs, toValue, tryOnBeforeMount, tryOnBeforeUnmount, tryOnMounted, tryOnScopeDispose, tryOnUnmounted, until, useArrayDifference, useArrayEvery, useArrayFilter, useArrayFind, useArrayFindIndex, useArrayFindLast, useArrayIncludes, useArrayJoin, useArrayMap, useArrayReduce, useArraySome, useArrayUnique, useCounter, useDateFormat, refDebounced as useDebounce, useDebounceFn, useInterval, useIntervalFn, useLastChanged, refThrottled as useThrottle, useThrottleFn, useTimeout, useTimeoutFn, useToNumber, useToString, useToggle, watchArray, watchAtMost, watchDebounced, watchDeep, watchIgnorable, watchImmediate, watchOnce, watchPausable, watchThrottled, watchTriggerable, watchWithFilter, whenever };\n","function encodePath(path) {\n  if (!path) {\n    return path;\n  }\n  return path.split(\"/\").map(encodeURIComponent).join(\"/\");\n}\nfunction basename(path) {\n  return path.replace(/\\\\/g, \"/\").replace(/.*\\//, \"\");\n}\nfunction dirname(path) {\n  return path.replace(/\\\\/g, \"/\").replace(/\\/[^/]*$/, \"\");\n}\nfunction extname(path) {\n  const base = basename(path);\n  const index = base.lastIndexOf(\".\");\n  if (index > 0) {\n    return base.substring(index);\n  }\n  return \"\";\n}\nfunction joinPaths(...args) {\n  return join(...args);\n}\nfunction join(...args) {\n  if (arguments.length < 1) {\n    return \"\";\n  }\n  const nonEmptyArgs = args.filter((arg) => arg.length > 0);\n  if (nonEmptyArgs.length < 1) {\n    return \"\";\n  }\n  const lastArg = nonEmptyArgs[nonEmptyArgs.length - 1];\n  const leadingSlash = nonEmptyArgs[0].charAt(0) === \"/\";\n  const trailingSlash = lastArg.charAt(lastArg.length - 1) === \"/\";\n  const sections = nonEmptyArgs.reduce((acc, section) => acc.concat(section.split(\"/\")), []);\n  let first = !leadingSlash;\n  const path = sections.reduce((acc, section) => {\n    if (section === \"\") {\n      return acc;\n    }\n    if (first) {\n      first = false;\n      return acc + section;\n    }\n    return acc + \"/\" + section;\n  }, \"\");\n  if (trailingSlash) {\n    return path + \"/\";\n  }\n  return path;\n}\nfunction isSamePath(path1, path2) {\n  const pathSections1 = (path1 || \"\").split(\"/\").filter((p) => p !== \".\");\n  const pathSections2 = (path2 || \"\").split(\"/\").filter((p) => p !== \".\");\n  path1 = join(...pathSections1);\n  path2 = join(...pathSections2);\n  return path1 === path2;\n}\nexport {\n  basename,\n  dirname,\n  encodePath,\n  extname,\n  isSamePath,\n  join,\n  joinPaths\n};\n//# sourceMappingURL=index.mjs.map\n","import { createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, toDisplayString, defineComponent, ref, computed, toRef, normalizeClass, normalizeStyle, unref, Fragment, createBlock, createVNode, toHandlers, withModifiers, onMounted, mergeModels, useModel, nextTick, onUnmounted, withCtx, createTextVNode, renderList, useTemplateRef, createSlots, shallowRef, watch } from \"vue\";\nimport { emit } from \"@nextcloud/event-bus\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcEmptyContent from \"@nextcloud/vue/components/NcEmptyContent\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nimport { FileType, Permission, formatFileSize, sortNodes, davGetRecentSearch, davResultToNode, davRootPath, davGetDefaultPropfind, davGetClient, getFavoriteNodes } from \"@nextcloud/files\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { mdiLock, mdiTag, mdiLink, mdiAccountPlus, mdiGroup, mdiNetwork, mdiFolder, mdiClock, mdiStar } from \"@mdi/js\";\nimport { ShareType } from \"@nextcloud/sharing\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport { u as usePreviewURL } from \"./preview-BIbJGxXF.mjs\";\nimport { t, l as logger, s as showError } from \"./index-hZPKu-D6.mjs\";\nimport axios from \"@nextcloud/axios\";\nimport { loadState } from \"@nextcloud/initial-state\";\nimport { generateUrl } from \"@nextcloud/router\";\nimport { isPublicShare } from \"@nextcloud/sharing/public\";\nimport { toValue } from \"@vueuse/core\";\nimport NcActionInput from \"@nextcloud/vue/components/NcActionInput\";\nimport NcActions from \"@nextcloud/vue/components/NcActions\";\nimport NcBreadcrumb from \"@nextcloud/vue/components/NcBreadcrumb\";\nimport NcBreadcrumbs from \"@nextcloud/vue/components/NcBreadcrumbs\";\nimport { getCurrentUser } from \"@nextcloud/auth\";\nimport NcSelect from \"@nextcloud/vue/components/NcSelect\";\nimport NcTextField from \"@nextcloud/vue/components/NcTextField\";\nimport { joinPaths } from \"@nextcloud/paths\";\nimport { CancelablePromise } from \"cancelable-promise\";\nconst _sfc_main$e = {\n  name: \"FileIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$c = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$b = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$a = { d: \"M13,9V3.5L18.5,9M6,2C4.89,2 4,2.89 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2H6Z\" };\nconst _hoisted_4$a = { key: 0 };\nfunction _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon file-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$a, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$a, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$b))\n  ], 16, _hoisted_1$c);\n}\nconst IconFile = /* @__PURE__ */ _export_sfc(_sfc_main$e, [[\"render\", _sfc_render$7]]);\nconst _sfc_main$d = {\n  name: \"MenuDownIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$b = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$a = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$9 = { d: \"M7,10L12,15L17,10H7Z\" };\nconst _hoisted_4$9 = { key: 0 };\nfunction _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-down-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$9, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$9, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$a))\n  ], 16, _hoisted_1$b);\n}\nconst IconSortDescending = /* @__PURE__ */ _export_sfc(_sfc_main$d, [[\"render\", _sfc_render$6]]);\nconst _sfc_main$c = {\n  name: \"MenuUpIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$a = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$9 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$8 = { d: \"M7,15L12,10L17,15H7Z\" };\nconst _hoisted_4$8 = { key: 0 };\nfunction _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon menu-up-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$8, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$8, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$9))\n  ], 16, _hoisted_1$a);\n}\nconst IconSortAscending = /* @__PURE__ */ _export_sfc(_sfc_main$c, [[\"render\", _sfc_render$5]]);\nconst _sfc_main$b = {\n  name: \"FolderIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$9 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$8 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$7 = { d: \"M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z\" };\nconst _hoisted_4$7 = { key: 0 };\nfunction _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon folder-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$7, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$7, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$8))\n  ], 16, _hoisted_1$9);\n}\nconst IconFolder = /* @__PURE__ */ _export_sfc(_sfc_main$b, [[\"render\", _sfc_render$4]]);\nconst fileListIconStyles = {\n  \"file-picker__file-icon\": \"_file-picker__file-icon_3v9zx_9\",\n  \"file-picker__file-icon--primary\": \"_file-picker__file-icon--primary_3v9zx_21\",\n  \"file-picker__file-icon-overlay\": \"_file-picker__file-icon-overlay_3v9zx_25\"\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  __name: \"FilePreview\",\n  props: {\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    const fileListIconStyles$1 = ref(fileListIconStyles);\n    const {\n      previewURL,\n      previewLoaded\n    } = usePreviewURL(toRef(props, \"node\"), computed(() => ({ cropPreview: props.cropImagePreviews })));\n    const isFile = computed(() => props.node.type === FileType.File);\n    const folderDecorationIcon = computed(() => {\n      if (props.node.type !== FileType.Folder) {\n        return null;\n      }\n      if (props.node.attributes?.[\"is-encrypted\"] === 1) {\n        return mdiLock;\n      }\n      if (props.node.attributes?.[\"is-tag\"]) {\n        return mdiTag;\n      }\n      const shareTypes = Object.values(props.node.attributes?.[\"share-types\"] || {}).flat();\n      if (shareTypes.some((type) => type === ShareType.Link || type === ShareType.Email)) {\n        return mdiLink;\n      }\n      if (shareTypes.length > 0) {\n        return mdiAccountPlus;\n      }\n      switch (props.node.attributes?.[\"mount-type\"]) {\n        case \"external\":\n        case \"external-session\":\n          return mdiNetwork;\n        case \"group\":\n          return mdiGroup;\n        case \"shared\":\n          return mdiAccountPlus;\n      }\n      return null;\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        style: normalizeStyle(unref(previewLoaded) ? { backgroundImage: `url(${unref(previewURL)})` } : void 0),\n        class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon\"])\n      }, [\n        !unref(previewLoaded) ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          isFile.value ? (openBlock(), createBlock(IconFile, {\n            key: 0,\n            size: 32\n          })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n            folderDecorationIcon.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n              key: 0,\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon-overlay\"]),\n              inline: \"\",\n              path: folderDecorationIcon.value,\n              size: 16\n            }, null, 8, [\"class\", \"path\"])) : createCommentVNode(\"\", true),\n            createVNode(IconFolder, {\n              class: normalizeClass(fileListIconStyles$1.value[\"file-picker__file-icon--primary\"]),\n              size: 32\n            }, null, 8, [\"class\"])\n          ], 64))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 6);\n    };\n  }\n});\nconst _hoisted_1$8 = [\"tabindex\", \"aria-selected\", \"data-filename\"];\nconst _hoisted_2$7 = { class: \"row-name\" };\nconst _hoisted_3$6 = {\n  class: \"file-picker__name-container\",\n  \"data-testid\": \"row-name\"\n};\nconst _hoisted_4$6 = [\"title\", \"textContent\"];\nconst _hoisted_5$1 = [\"textContent\"];\nconst _hoisted_6$1 = { class: \"row-size\" };\nconst _hoisted_7$1 = { class: \"row-modified\" };\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  __name: \"FileListRow\",\n  props: {\n    allowPickDirectory: { type: Boolean },\n    selected: { type: Boolean },\n    showCheckbox: { type: Boolean },\n    canPick: { type: Boolean },\n    node: {},\n    cropImagePreviews: { type: Boolean }\n  },\n  emits: [\"update:selected\", \"enterDirectory\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const timestamp = computed(() => props.node.mtime ?? 0);\n    const displayName = computed(() => props.node.attributes?.displayName || props.node.basename.slice(0, props.node.extension ? -props.node.extension.length : void 0));\n    const fileExtension = computed(() => props.node.extension);\n    const isDirectory = computed(() => props.node.type === FileType.Folder);\n    const isPickable = computed(() => props.canPick && (props.allowPickDirectory || !isDirectory.value));\n    const isNavigatable = computed(() => (props.node.permissions & Permission.READ) === Permission.READ);\n    function toggleSelected() {\n      if (!isPickable.value) {\n        return;\n      }\n      emit2(\"update:selected\", !props.selected);\n    }\n    function handleClick() {\n      if (isDirectory.value) {\n        if (isNavigatable.value) {\n          emit2(\"enterDirectory\", props.node);\n        }\n      } else {\n        toggleSelected();\n      }\n    }\n    function handleKeyDown(event) {\n      if (event.key === \"Enter\") {\n        handleClick();\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", mergeProps({\n        tabindex: __props.showCheckbox && !isDirectory.value ? void 0 : 0,\n        \"aria-selected\": !isPickable.value ? void 0 : __props.selected,\n        class: [\"file-picker__row\", [\n          {\n            \"file-picker__row--selected\": __props.selected && !__props.showCheckbox,\n            \"file-picker__row--not-navigatable\": isDirectory.value && !isNavigatable.value,\n            \"file-picker__row--not-pickable\": !isPickable.value\n          }\n        ]],\n        \"data-filename\": __props.node.basename,\n        \"data-testid\": \"file-list-row\"\n      }, toHandlers({\n        click: handleClick,\n        /* same as tabindex -> if we hide the checkbox or this is a directory we need keyboard access to enter the directory or select the node */\n        ...!__props.showCheckbox || isDirectory.value ? { keydown: handleKeyDown } : {}\n      }, true)), [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", {\n          key: 0,\n          class: \"row-checkbox\",\n          onClick: withModifiers(() => {\n          }, [\"stop\"])\n        }, [\n          createVNode(unref(NcCheckboxRadioSwitch), {\n            \"aria-label\": unref(t)(\"Select the row for {nodename}\", { nodename: displayName.value }),\n            disabled: !isPickable.value,\n            \"data-testid\": \"row-checkbox\",\n            \"model-value\": __props.selected,\n            \"onUpdate:modelValue\": toggleSelected\n          }, null, 8, [\"aria-label\", \"disabled\", \"model-value\"])\n        ])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_2$7, [\n          createElementVNode(\"div\", _hoisted_3$6, [\n            createVNode(_sfc_main$a, {\n              node: __props.node,\n              \"crop-image-previews\": __props.cropImagePreviews\n            }, null, 8, [\"node\", \"crop-image-previews\"]),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-name\",\n              title: displayName.value,\n              textContent: toDisplayString(displayName.value)\n            }, null, 8, _hoisted_4$6),\n            createElementVNode(\"div\", {\n              class: \"file-picker__file-extension\",\n              textContent: toDisplayString(fileExtension.value)\n            }, null, 8, _hoisted_5$1)\n          ])\n        ]),\n        createElementVNode(\"td\", _hoisted_6$1, toDisplayString(unref(formatFileSize)(__props.node.size || 0)), 1),\n        createElementVNode(\"td\", _hoisted_7$1, [\n          createVNode(unref(NcDateTime), {\n            timestamp: timestamp.value,\n            \"ignore-seconds\": \"\"\n          }, null, 8, [\"timestamp\"])\n        ])\n      ], 16, _hoisted_1$8);\n    };\n  }\n});\nconst FileListRow = /* @__PURE__ */ _export_sfc(_sfc_main$9, [[\"__scopeId\", \"data-v-a5daea8d\"]]);\nconst _hoisted_1$7 = {\n  \"aria-hidden\": \"true\",\n  class: \"file-picker__row loading-row\"\n};\nconst _hoisted_2$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_3$5 = { class: \"row-name\" };\nconst _hoisted_4$5 = { class: \"row-wrapper\" };\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  __name: \"LoadingTableRow\",\n  props: {\n    showCheckbox: { type: Boolean }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"tr\", _hoisted_1$7, [\n        __props.showCheckbox ? (openBlock(), createElementBlock(\"td\", _hoisted_2$6, [..._cache[0] || (_cache[0] = [\n          createElementVNode(\"span\", null, null, -1)\n        ])])) : createCommentVNode(\"\", true),\n        createElementVNode(\"td\", _hoisted_3$5, [\n          createElementVNode(\"div\", _hoisted_4$5, [\n            createElementVNode(\"span\", {\n              class: normalizeClass(unref(fileListIconStyles)[\"file-picker__file-icon\"])\n            }, null, 2),\n            _cache[1] || (_cache[1] = createElementVNode(\"span\", null, null, -1))\n          ])\n        ]),\n        _cache[2] || (_cache[2] = createElementVNode(\"td\", { class: \"row-size\" }, [\n          createElementVNode(\"span\")\n        ], -1)),\n        _cache[3] || (_cache[3] = createElementVNode(\"td\", { class: \"row-modified\" }, [\n          createElementVNode(\"span\")\n        ], -1))\n      ]);\n    };\n  }\n});\nconst LoadingTableRow = /* @__PURE__ */ _export_sfc(_sfc_main$8, [[\"__scopeId\", \"data-v-1f96131b\"]]);\nfunction useFilesSettings() {\n  const filesUserState = loadState(\"files\", \"config\", null);\n  const showHiddenFiles = ref(filesUserState?.show_hidden ?? true);\n  const sortFavoritesFirst = ref(filesUserState?.sort_favorites_first ?? true);\n  const cropImagePreviews = ref(filesUserState?.crop_image_previews ?? true);\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/configs\"));\n        showHiddenFiles.value = data?.data?.show_hidden ?? false;\n        sortFavoritesFirst.value = data?.data?.sort_favorites_first ?? true;\n        cropImagePreviews.value = data?.data?.crop_image_previews ?? true;\n      } catch (error) {\n        logger.error(\"Could not load files settings\", error);\n        showError(t(\"Could not load files settings\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files settings - currently on public share\");\n    }\n  });\n  return {\n    showHiddenFiles,\n    sortFavoritesFirst,\n    cropImagePreviews\n  };\n}\nfunction useFilesViews(currentView) {\n  const convertOrder = (order2) => order2 === \"asc\" ? \"ascending\" : order2 === \"desc\" ? \"descending\" : \"none\";\n  const filesViewsState = loadState(\"files\", \"viewConfigs\", null);\n  const filesViewConfig = ref({\n    sortBy: filesViewsState?.files?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.files?.sorting_direction ?? \"asc\")\n  });\n  const recentViewConfig = ref({\n    sortBy: filesViewsState?.recent?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.recent?.sorting_direction ?? \"asc\")\n  });\n  const favoritesViewConfig = ref({\n    sortBy: filesViewsState?.favorites?.sorting_mode ?? \"basename\",\n    order: convertOrder(filesViewsState?.favorites?.sorting_direction ?? \"asc\")\n  });\n  onMounted(async () => {\n    if (!isPublicShare()) {\n      try {\n        const { data } = await axios.get(generateUrl(\"/apps/files/api/v1/views\"));\n        filesViewConfig.value = {\n          sortBy: data?.data?.files?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.files?.sorting_direction)\n        };\n        favoritesViewConfig.value = {\n          sortBy: data?.data?.favorites?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.favorites?.sorting_direction)\n        };\n        recentViewConfig.value = {\n          sortBy: data?.data?.recent?.sorting_mode ?? \"basename\",\n          order: convertOrder(data?.data?.recent?.sorting_direction)\n        };\n      } catch (error) {\n        logger.error(\"Could not load files views\", error);\n        showError(t(\"Could not load files views\"));\n      }\n    } else {\n      logger.debug(\"Skip loading files views - currently on public share\");\n    }\n  });\n  const currentConfig = computed(() => toValue(currentView || \"files\") === \"files\" ? filesViewConfig.value : toValue(currentView) === \"recent\" ? recentViewConfig.value : favoritesViewConfig.value);\n  const sortBy = computed(() => currentConfig.value.sortBy);\n  const order = computed(() => currentConfig.value.order);\n  return {\n    filesViewConfig,\n    favoritesViewConfig,\n    recentViewConfig,\n    currentConfig,\n    sortBy,\n    order\n  };\n}\nconst _hoisted_1$6 = {\n  key: 0,\n  class: \"row-checkbox\"\n};\nconst _hoisted_2$5 = { class: \"hidden-visually\" };\nconst _hoisted_3$4 = [\"aria-sort\"];\nconst _hoisted_4$4 = { class: \"header-wrapper\" };\nconst _hoisted_5 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_6 = [\"aria-sort\"];\nconst _hoisted_7 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _hoisted_8 = [\"aria-sort\"];\nconst _hoisted_9 = {\n  key: 2,\n  style: { \"width\": \"44px\" }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  __name: \"FileList\",\n  props: /* @__PURE__ */ mergeModels({\n    currentView: {},\n    multiselect: { type: Boolean },\n    allowPickDirectory: { type: Boolean },\n    loading: { type: Boolean },\n    files: {},\n    canPick: { type: Function }\n  }, {\n    \"path\": { required: true },\n    \"pathModifiers\": {},\n    \"selectedFiles\": { required: true },\n    \"selectedFilesModifiers\": {}\n  }),\n  emits: [\"update:path\", \"update:selectedFiles\"],\n  setup(__props) {\n    const path = useModel(__props, \"path\");\n    const selectedFiles = useModel(__props, \"selectedFiles\");\n    const props = __props;\n    const customSortingConfig = ref();\n    const { currentConfig: filesAppSorting } = useFilesViews(props.currentView);\n    const sortingConfig = computed(() => customSortingConfig.value ?? filesAppSorting.value);\n    const sortByName = computed(() => sortingConfig.value.sortBy === \"basename\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortBySize = computed(() => sortingConfig.value.sortBy === \"size\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    const sortByModified = computed(() => sortingConfig.value.sortBy === \"mtime\" ? sortingConfig.value.order === \"none\" ? void 0 : sortingConfig.value.order : void 0);\n    function toggleSorting(sortBy) {\n      if (sortingConfig.value.sortBy === sortBy) {\n        if (sortingConfig.value.order === \"ascending\") {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"descending\" };\n        } else {\n          customSortingConfig.value = { sortBy: sortingConfig.value.sortBy, order: \"ascending\" };\n        }\n      } else {\n        customSortingConfig.value = { sortBy, order: \"ascending\" };\n      }\n    }\n    const { sortFavoritesFirst, cropImagePreviews } = useFilesSettings();\n    const sortedFiles = computed(() => {\n      return sortNodes(props.files, {\n        sortFoldersFirst: true,\n        sortFavoritesFirst: sortFavoritesFirst.value,\n        sortingOrder: sortingConfig.value.order === \"descending\" ? \"desc\" : \"asc\",\n        sortingMode: sortingConfig.value.sortBy\n      });\n    });\n    const selectableFiles = computed(() => props.files.filter((file) => props.allowPickDirectory || file.type !== FileType.Folder));\n    const allSelected = computed(() => !props.loading && selectedFiles.value.length > 0 && selectedFiles.value.length >= selectableFiles.value.length);\n    function onSelectAll() {\n      if (selectedFiles.value.length < selectableFiles.value.length) {\n        selectedFiles.value = [...selectableFiles.value];\n      } else {\n        selectedFiles.value = [];\n      }\n    }\n    function onNodeSelected(file) {\n      if (selectedFiles.value.includes(file)) {\n        selectedFiles.value = selectedFiles.value.filter((f) => f.path !== file.path);\n      } else {\n        if (props.multiselect) {\n          selectedFiles.value = [...selectedFiles.value, file];\n        } else {\n          selectedFiles.value = [file];\n        }\n      }\n    }\n    function onChangeDirectory(dir) {\n      path.value = dir.path;\n    }\n    const skeletonNumber = ref(4);\n    const fileContainer = ref();\n    {\n      const resize = () => nextTick(() => {\n        const nodes = fileContainer.value?.parentElement?.children || [];\n        let height = fileContainer.value?.parentElement?.clientHeight || 450;\n        for (let index = 0; index < nodes.length; index++) {\n          if (!fileContainer.value?.isSameNode(nodes[index])) {\n            height -= nodes[index].clientHeight;\n          }\n        }\n        skeletonNumber.value = Math.max(1, Math.floor((height - 50) / 50));\n      });\n      onMounted(() => {\n        window.addEventListener(\"resize\", resize);\n        resize();\n      });\n      onUnmounted(() => {\n        window.removeEventListener(\"resize\", resize);\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"fileContainer\",\n        ref: fileContainer,\n        class: \"file-picker__files\"\n      }, [\n        createElementVNode(\"table\", null, [\n          createElementVNode(\"thead\", null, [\n            createElementVNode(\"tr\", null, [\n              __props.multiselect ? (openBlock(), createElementBlock(\"th\", _hoisted_1$6, [\n                createElementVNode(\"span\", _hoisted_2$5, toDisplayString(unref(t)(\"Select entry\")), 1),\n                __props.multiselect ? (openBlock(), createBlock(unref(NcCheckboxRadioSwitch), {\n                  key: 0,\n                  \"aria-label\": unref(t)(\"Select all entries\"),\n                  \"data-testid\": \"select-all-checkbox\",\n                  \"model-value\": allSelected.value,\n                  \"onUpdate:modelValue\": onSelectAll\n                }, null, 8, [\"aria-label\", \"model-value\"])) : createCommentVNode(\"\", true)\n              ])) : createCommentVNode(\"\", true),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByName.value,\n                class: \"row-name\"\n              }, [\n                createElementVNode(\"div\", _hoisted_4$4, [\n                  _cache[3] || (_cache[3] = createElementVNode(\"span\", { class: \"file-picker__header-preview\" }, null, -1)),\n                  createVNode(unref(NcButton), {\n                    \"data-test\": \"file-picker_sort-name\",\n                    variant: \"tertiary\",\n                    wide: \"\",\n                    onClick: _cache[0] || (_cache[0] = ($event) => toggleSorting(\"basename\"))\n                  }, {\n                    icon: withCtx(() => [\n                      sortByName.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                        key: 0,\n                        size: 20\n                      })) : sortByName.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                        key: 1,\n                        size: 20\n                      })) : (openBlock(), createElementBlock(\"span\", _hoisted_5))\n                    ]),\n                    default: withCtx(() => [\n                      createTextVNode(\" \" + toDisplayString(unref(t)(\"Name\")), 1)\n                    ]),\n                    _: 1\n                  })\n                ])\n              ], 8, _hoisted_3$4),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortBySize.value,\n                class: \"row-size\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[1] || (_cache[1] = ($event) => toggleSorting(\"size\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortBySize.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortBySize.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_7))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Size\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_6),\n              createElementVNode(\"th\", {\n                \"aria-sort\": sortByModified.value,\n                class: \"row-modified\"\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: \"tertiary\",\n                  wide: \"\",\n                  onClick: _cache[2] || (_cache[2] = ($event) => toggleSorting(\"mtime\"))\n                }, {\n                  icon: withCtx(() => [\n                    sortByModified.value === \"ascending\" ? (openBlock(), createBlock(IconSortAscending, {\n                      key: 0,\n                      size: 20\n                    })) : sortByModified.value === \"descending\" ? (openBlock(), createBlock(IconSortDescending, {\n                      key: 1,\n                      size: 20\n                    })) : (openBlock(), createElementBlock(\"span\", _hoisted_9))\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(unref(t)(\"Modified\")), 1)\n                  ]),\n                  _: 1\n                })\n              ], 8, _hoisted_8)\n            ])\n          ]),\n          createElementVNode(\"tbody\", null, [\n            __props.loading ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(skeletonNumber.value, (index) => {\n              return openBlock(), createBlock(LoadingTableRow, {\n                key: index,\n                \"show-checkbox\": __props.multiselect\n              }, null, 8, [\"show-checkbox\"]);\n            }), 128)) : (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList(sortedFiles.value, (file) => {\n              return openBlock(), createBlock(FileListRow, {\n                key: file.fileid || file.path,\n                \"allow-pick-directory\": __props.allowPickDirectory,\n                \"show-checkbox\": __props.multiselect,\n                \"can-pick\": (__props.multiselect || selectedFiles.value.length === 0 || selectedFiles.value.includes(file)) && (__props.canPick === void 0 || __props.canPick(file)),\n                selected: selectedFiles.value.includes(file),\n                node: file,\n                \"crop-image-previews\": unref(cropImagePreviews),\n                \"onUpdate:selected\": ($event) => onNodeSelected(file),\n                onEnterDirectory: onChangeDirectory\n              }, null, 8, [\"allow-pick-directory\", \"show-checkbox\", \"can-pick\", \"selected\", \"node\", \"crop-image-previews\", \"onUpdate:selected\"]);\n            }), 128))\n          ])\n        ])\n      ], 512);\n    };\n  }\n});\nconst FileList = /* @__PURE__ */ _export_sfc(_sfc_main$7, [[\"__scopeId\", \"data-v-38620705\"]]);\nconst _sfc_main$6 = {\n  name: \"HomeIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$5 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$4 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$3 = { d: \"M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z\" };\nconst _hoisted_4$3 = { key: 0 };\nfunction _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon home-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$3, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$4))\n  ], 16, _hoisted_1$5);\n}\nconst IconHome = /* @__PURE__ */ _export_sfc(_sfc_main$6, [[\"render\", _sfc_render$3]]);\nconst _sfc_main$5 = {\n  name: \"PlusIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$4 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$3 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$2 = { d: \"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" };\nconst _hoisted_4$2 = { key: 0 };\nfunction _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon plus-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$2, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$2, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$3))\n  ], 16, _hoisted_1$4);\n}\nconst IconPlus = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"render\", _sfc_render$2]]);\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerBreadcrumbs\",\n  props: {\n    path: {},\n    showMenu: { type: Boolean }\n  },\n  emits: [\"update:path\", \"create-node\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const actionsOpen = ref(false);\n    const newNodeName = ref(\"\");\n    const nameInput = useTemplateRef(\"nameInput\");\n    function validateInput() {\n      const name = newNodeName.value.trim();\n      const input = nameInput.value?.$el?.querySelector(\"input\");\n      let validity = \"\";\n      if (name.length === 0) {\n        validity = t(\"Folder name cannot be empty.\");\n      } else if (name.includes(\"/\")) {\n        validity = t('\"/\" is not allowed inside a folder name.');\n      } else if ([\"..\", \".\"].includes(name)) {\n        validity = t('\"{name}\" is an invalid folder name.', { name });\n      } else if (window.OC.config?.blacklist_files_regex && name.match(window.OC.config?.blacklist_files_regex)) {\n        validity = t('\"{name}\" is not an allowed folder name', { name });\n      }\n      if (input) {\n        input.setCustomValidity(validity);\n      }\n      return validity === \"\";\n    }\n    function onSubmit() {\n      const name = newNodeName.value.trim();\n      if (validateInput()) {\n        actionsOpen.value = false;\n        emit2(\"create-node\", name);\n        newNodeName.value = \"\";\n      }\n    }\n    const pathElements = computed(() => props.path.split(\"/\").filter((v) => v !== \"\").map((v, i, elements) => ({\n      name: v,\n      path: \"/\" + elements.slice(0, i + 1).join(\"/\")\n    })));\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcBreadcrumbs), { class: \"file-picker__breadcrumbs\" }, createSlots({\n        default: withCtx(() => [\n          createVNode(unref(NcBreadcrumb), {\n            name: unref(t)(\"All files\"),\n            title: unref(t)(\"Home\"),\n            onClick: _cache[0] || (_cache[0] = ($event) => emit2(\"update:path\", \"/\"))\n          }, {\n            icon: withCtx(() => [\n              createVNode(IconHome, { size: 20 })\n            ]),\n            _: 1\n          }, 8, [\"name\", \"title\"]),\n          (openBlock(true), createElementBlock(Fragment, null, renderList(pathElements.value, (dir) => {\n            return openBlock(), createBlock(unref(NcBreadcrumb), {\n              key: dir.path,\n              name: dir.name,\n              title: dir.path,\n              onClick: ($event) => emit2(\"update:path\", dir.path)\n            }, null, 8, [\"name\", \"title\", \"onClick\"]);\n          }), 128))\n        ]),\n        _: 2\n      }, [\n        __props.showMenu ? {\n          name: \"actions\",\n          fn: withCtx(() => [\n            createVNode(unref(NcActions), {\n              open: actionsOpen.value,\n              \"onUpdate:open\": _cache[2] || (_cache[2] = ($event) => actionsOpen.value = $event),\n              \"aria-label\": unref(t)(\"Create directory\"),\n              \"force-menu\": true,\n              \"force-name\": true,\n              \"menu-name\": unref(t)(\"New\"),\n              variant: \"secondary\",\n              onClose: _cache[3] || (_cache[3] = ($event) => newNodeName.value = \"\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconPlus, { size: 20 })\n              ]),\n              default: withCtx(() => [\n                createVNode(unref(NcActionInput), {\n                  ref_key: \"nameInput\",\n                  ref: nameInput,\n                  modelValue: newNodeName.value,\n                  \"onUpdate:modelValue\": [\n                    _cache[1] || (_cache[1] = ($event) => newNodeName.value = $event),\n                    validateInput\n                  ],\n                  label: unref(t)(\"New folder\"),\n                  placeholder: unref(t)(\"New folder name\"),\n                  onSubmit\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(IconFolder, { size: 20 })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"label\", \"placeholder\"])\n              ]),\n              _: 1\n            }, 8, [\"open\", \"aria-label\", \"menu-name\"])\n          ]),\n          key: \"0\"\n        } : void 0\n      ]), 1024);\n    };\n  }\n});\nconst FilePickerBreadcrumbs = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"__scopeId\", \"data-v-4e6fd4e4\"]]);\nconst _sfc_main$3 = {\n  name: \"CloseIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$3 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$2 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3$1 = { d: \"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\" };\nconst _hoisted_4$1 = { key: 0 };\nfunction _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon close-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3$1, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4$1, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$2))\n  ], 16, _hoisted_1$3);\n}\nconst IconClose = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", _sfc_render$1]]);\nconst _sfc_main$2 = {\n  name: \"MagnifyIcon\",\n  emits: [\"click\"],\n  props: {\n    title: {\n      type: String\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n};\nconst _hoisted_1$2 = [\"aria-hidden\", \"aria-label\"];\nconst _hoisted_2$1 = [\"fill\", \"width\", \"height\"];\nconst _hoisted_3 = { d: \"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z\" };\nconst _hoisted_4 = { key: 0 };\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"span\", mergeProps(_ctx.$attrs, {\n    \"aria-hidden\": $props.title ? null : \"true\",\n    \"aria-label\": $props.title,\n    class: \"material-design-icon magnify-icon\",\n    role: \"img\",\n    onClick: _cache[0] || (_cache[0] = ($event) => _ctx.$emit(\"click\", $event))\n  }), [\n    (openBlock(), createElementBlock(\"svg\", {\n      fill: $props.fillColor,\n      class: \"material-design-icon__svg\",\n      width: $props.size,\n      height: $props.size,\n      viewBox: \"0 0 24 24\"\n    }, [\n      createElementVNode(\"path\", _hoisted_3, [\n        $props.title ? (openBlock(), createElementBlock(\"title\", _hoisted_4, toDisplayString($props.title), 1)) : createCommentVNode(\"\", true)\n      ])\n    ], 8, _hoisted_2$1))\n  ], 16, _hoisted_1$2);\n}\nconst IconMagnify = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", _sfc_render]]);\nfunction useViews(isAnonymous) {\n  const allViews = [\n    {\n      id: \"files\",\n      label: t(\"All files\"),\n      icon: mdiFolder\n    },\n    {\n      id: \"recent\",\n      label: t(\"Recent\"),\n      icon: mdiClock\n    },\n    {\n      id: \"favorites\",\n      label: t(\"Favorites\"),\n      icon: mdiStar\n    }\n  ];\n  const availableViews = isAnonymous.value ? allViews.filter(({ id }) => id === \"files\") : allViews;\n  return {\n    allViews,\n    availableViews\n  };\n}\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"file-picker__side\"\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"FilePickerNavigation\",\n  props: {\n    currentView: {},\n    filterString: {},\n    isCollapsed: { type: Boolean },\n    disabledNavigation: { type: Boolean }\n  },\n  emits: [\"update:currentView\", \"update:filterString\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit2 = __emit;\n    const { availableViews } = useViews(ref(getCurrentUser() === null));\n    const currentViewObject = computed(() => availableViews.filter((v) => v.id === props.currentView)[0] ?? availableViews[0]);\n    const updateFilterValue = (value) => emit2(\"update:filterString\", value);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createVNode(unref(NcTextField), {\n          class: \"file-picker__filter-input\",\n          label: unref(t)(\"Filter file list\"),\n          \"show-trailing-button\": !!__props.filterString,\n          \"model-value\": __props.filterString,\n          \"onUpdate:modelValue\": updateFilterValue,\n          onTrailingButtonClick: _cache[0] || (_cache[0] = ($event) => updateFilterValue(\"\"))\n        }, {\n          \"trailing-button-icon\": withCtx(() => [\n            createVNode(IconClose, { size: 16 })\n          ]),\n          default: withCtx(() => [\n            createVNode(IconMagnify, { size: 16 })\n          ]),\n          _: 1\n        }, 8, [\"label\", \"show-trailing-button\", \"model-value\"]),\n        unref(availableViews).length > 1 && !__props.disabledNavigation ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          !__props.isCollapsed ? (openBlock(), createElementBlock(\"ul\", _hoisted_1$1, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList(unref(availableViews), (view) => {\n              return openBlock(), createElementBlock(\"li\", {\n                key: view.id\n              }, [\n                createVNode(unref(NcButton), {\n                  variant: __props.currentView === view.id ? \"primary\" : \"tertiary\",\n                  wide: true,\n                  onClick: ($event) => _ctx.$emit(\"update:currentView\", view.id)\n                }, {\n                  icon: withCtx(() => [\n                    createVNode(unref(NcIconSvgWrapper), {\n                      path: view.icon,\n                      size: 20\n                    }, null, 8, [\"path\"])\n                  ]),\n                  default: withCtx(() => [\n                    createTextVNode(\" \" + toDisplayString(view.label), 1)\n                  ]),\n                  _: 2\n                }, 1032, [\"variant\", \"onClick\"])\n              ]);\n            }), 128))\n          ])) : (openBlock(), createBlock(unref(NcSelect), {\n            key: 1,\n            \"aria-label\": unref(t)(\"Current view selector\"),\n            clearable: false,\n            searchable: false,\n            options: unref(availableViews),\n            \"model-value\": currentViewObject.value,\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => emit2(\"update:currentView\", $event.id))\n          }, null, 8, [\"aria-label\", \"options\", \"model-value\"]))\n        ], 64)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nconst FilePickerNavigation = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__scopeId\", \"data-v-86223490\"]]);\nfunction getRecentNodes(client) {\n  const controller = new AbortController();\n  const lastTwoWeek = Math.round(Date.now() / 1e3) - 60 * 60 * 24 * 14;\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const { data } = await client.search(\"/\", {\n        signal: controller.signal,\n        details: true,\n        data: davGetRecentSearch(lastTwoWeek)\n      });\n      const nodes = data.results.map((result) => davResultToNode(result));\n      resolve(nodes);\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nfunction getNodes(client, directoryPath) {\n  const controller = new AbortController();\n  return new CancelablePromise(async (resolve, reject, onCancel) => {\n    onCancel(() => controller.abort());\n    try {\n      const results = await client.getDirectoryContents(joinPaths(davRootPath, directoryPath), {\n        signal: controller.signal,\n        details: true,\n        includeSelf: true,\n        data: davGetDefaultPropfind()\n      });\n      const nodes = results.data.map((result) => davResultToNode(result));\n      resolve({\n        contents: nodes.filter(({ path }) => path !== directoryPath),\n        folder: nodes.find(({ path }) => path === directoryPath)\n      });\n    } catch (error) {\n      reject(error);\n    }\n  });\n}\nasync function getFile(client, path) {\n  const { data } = await client.stat(joinPaths(davRootPath, path), {\n    details: true,\n    data: davGetDefaultPropfind()\n  });\n  return davResultToNode(data);\n}\nfunction useDAVFiles(currentView, currentPath) {\n  const client = davGetClient();\n  const files = shallowRef([]);\n  const folder = shallowRef(null);\n  const isLoading = ref(true);\n  const promise = ref(null);\n  async function createDirectory(name) {\n    const path = joinPaths(currentPath.value, name);\n    await client.createDirectory(joinPaths(davRootPath, path));\n    const directory = await getFile(client, path);\n    files.value = [...files.value, directory];\n    return directory;\n  }\n  async function loadDAVFiles() {\n    if (promise.value) {\n      promise.value.cancel();\n    }\n    isLoading.value = true;\n    if (currentView.value === \"favorites\") {\n      promise.value = getFavoriteNodes(client, currentPath.value);\n    } else if (currentView.value === \"recent\") {\n      promise.value = getRecentNodes(client);\n    } else {\n      promise.value = getNodes(client, currentPath.value);\n    }\n    const content = await promise.value;\n    if (!content) {\n      return;\n    } else if (\"folder\" in content) {\n      folder.value = content.folder;\n      files.value = content.contents;\n    } else {\n      folder.value = null;\n      files.value = content;\n    }\n    promise.value = null;\n    isLoading.value = false;\n  }\n  watch([currentView, currentPath], () => loadDAVFiles());\n  onMounted(() => loadDAVFiles());\n  return {\n    isLoading,\n    files,\n    folder,\n    loadFiles: loadDAVFiles,\n    createDirectory\n  };\n}\nfunction useMimeFilter(allowedMIMETypes) {\n  const splittedTypes = computed(() => allowedMIMETypes.value.map((filter) => filter.split(\"/\")));\n  const isSupportedMimeType = (mime) => {\n    const mimeTypeArray = mime.split(\"/\");\n    return splittedTypes.value.some(([type, subtype]) => (\n      // check mime type matches or is wildcard\n      (mimeTypeArray[0] === type || type === \"*\") && (mimeTypeArray[1] === subtype || subtype === \"*\")\n    ));\n  };\n  return {\n    isSupportedMimeType\n  };\n}\nconst _hoisted_1 = { class: \"file-picker__main\" };\nconst _hoisted_2 = {\n  key: 1,\n  class: \"file-picker__view\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"FilePicker\",\n  props: {\n    buttons: {},\n    name: {},\n    allowPickDirectory: { type: Boolean, default: false },\n    disabledNavigation: { type: Boolean, default: false },\n    filterFn: { type: Function, default: void 0 },\n    canPickFn: { type: Function, default: void 0 },\n    mimetypeFilter: { default: () => [] },\n    multiselect: { type: Boolean, default: false },\n    path: { default: void 0 }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit$1 = __emit;\n    const isOpen = ref(true);\n    const currentView = ref(\"files\");\n    const savedPath = ref(window?.sessionStorage.getItem(\"NC.FilePicker.LastPath\") || \"/\");\n    const navigatedPath = ref(\"\");\n    const currentPath = computed({\n      get: () => {\n        return currentView.value === \"files\" ? navigatedPath.value || props.path || savedPath.value : \"/\";\n      },\n      set: (path) => {\n        navigatedPath.value = path;\n      }\n    });\n    const selectedFiles = shallowRef([]);\n    const {\n      files,\n      folder: currentFolder,\n      isLoading,\n      loadFiles,\n      createDirectory\n    } = useDAVFiles(currentView, currentPath);\n    watch([navigatedPath], () => {\n      if (props.path === void 0 && navigatedPath.value) {\n        window.sessionStorage.setItem(\"NC.FilePicker.LastPath\", navigatedPath.value);\n      }\n      selectedFiles.value = [];\n    });\n    let isHandlingCallback = false;\n    const dialogButtons = computed(() => {\n      const nodes = selectedFiles.value.length === 0 && props.allowPickDirectory && currentFolder.value ? [currentFolder.value] : selectedFiles.value;\n      const buttons = typeof props.buttons === \"function\" ? props.buttons(nodes, currentPath.value, currentView.value) : props.buttons;\n      return buttons.map((button) => ({\n        ...button,\n        disabled: button.disabled || isLoading.value,\n        callback: () => {\n          isHandlingCallback = true;\n          handleButtonClick(button.callback, nodes);\n        }\n      }));\n    });\n    async function handleButtonClick(callback, nodes) {\n      await callback(nodes);\n      emit$1(\"close\", nodes);\n      isHandlingCallback = false;\n    }\n    const viewHeadline = computed(() => currentView.value === \"favorites\" ? t(\"Favorites\") : currentView.value === \"recent\" ? t(\"Recent\") : \"\");\n    const filterString = ref(\"\");\n    const { isSupportedMimeType } = useMimeFilter(toRef(props, \"mimetypeFilter\"));\n    onMounted(() => loadFiles());\n    const { showHiddenFiles } = useFilesSettings();\n    const filteredFiles = computed(() => {\n      let filtered = files.value;\n      if (!showHiddenFiles.value) {\n        filtered = filtered.filter((file) => !file.basename.startsWith(\".\"));\n      }\n      if (props.mimetypeFilter.length > 0) {\n        filtered = filtered.filter((file) => file.type === \"folder\" || file.mime && isSupportedMimeType(file.mime));\n      }\n      if (filterString.value) {\n        filtered = filtered.filter((file) => file.basename.toLowerCase().includes(filterString.value.toLowerCase()));\n      }\n      if (props.filterFn) {\n        filtered = filtered.filter((f) => props.filterFn(f));\n      }\n      return filtered;\n    });\n    const noFilesDescription = computed(() => {\n      if (currentView.value === \"files\") {\n        return t(\"Upload some content or sync with your devices!\");\n      } else if (currentView.value === \"recent\") {\n        return t(\"Files and folders you recently modified will show up here.\");\n      } else {\n        return t(\"Files and folders you mark as favorite will show up here.\");\n      }\n    });\n    async function onCreateFolder(name) {\n      try {\n        const folder = await createDirectory(name);\n        navigatedPath.value = folder.path;\n        emit(\"files:node:created\", files.value.filter((file) => file.basename === name)[0]);\n      } catch (error) {\n        logger.warn(\"Could not create new folder\", { name, error });\n        showError(t(\"Could not create the new folder\"));\n      }\n    }\n    function handleClose(open) {\n      if (!open && !isHandlingCallback) {\n        emit$1(\"close\");\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcDialog), {\n        open: isOpen.value,\n        \"onUpdate:open\": [\n          _cache[6] || (_cache[6] = ($event) => isOpen.value = $event),\n          handleClose\n        ],\n        buttons: dialogButtons.value,\n        name: __props.name,\n        size: \"large\",\n        \"content-classes\": \"file-picker__content\",\n        \"dialog-classes\": \"file-picker\",\n        \"navigation-classes\": \"file-picker__navigation\"\n      }, {\n        navigation: withCtx(({ isCollapsed }) => [\n          createVNode(FilePickerNavigation, {\n            \"current-view\": currentView.value,\n            \"onUpdate:currentView\": _cache[0] || (_cache[0] = ($event) => currentView.value = $event),\n            \"filter-string\": filterString.value,\n            \"onUpdate:filterString\": _cache[1] || (_cache[1] = ($event) => filterString.value = $event),\n            \"is-collapsed\": isCollapsed,\n            \"disabled-navigation\": __props.disabledNavigation\n          }, null, 8, [\"current-view\", \"filter-string\", \"is-collapsed\", \"disabled-navigation\"])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", _hoisted_1, [\n            currentView.value === \"files\" ? (openBlock(), createBlock(FilePickerBreadcrumbs, {\n              key: 0,\n              path: currentPath.value,\n              \"onUpdate:path\": _cache[2] || (_cache[2] = ($event) => currentPath.value = $event),\n              \"show-menu\": __props.allowPickDirectory,\n              onCreateNode: onCreateFolder\n            }, null, 8, [\"path\", \"show-menu\"])) : (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n              createElementVNode(\"h3\", null, toDisplayString(viewHeadline.value), 1)\n            ])),\n            unref(isLoading) || filteredFiles.value.length > 0 ? (openBlock(), createBlock(FileList, {\n              key: 2,\n              path: currentPath.value,\n              \"onUpdate:path\": [\n                _cache[3] || (_cache[3] = ($event) => currentPath.value = $event),\n                _cache[5] || (_cache[5] = ($event) => currentView.value = \"files\")\n              ],\n              \"selected-files\": selectedFiles.value,\n              \"onUpdate:selectedFiles\": _cache[4] || (_cache[4] = ($event) => selectedFiles.value = $event),\n              \"allow-pick-directory\": __props.allowPickDirectory,\n              \"current-view\": currentView.value,\n              files: filteredFiles.value,\n              multiselect: __props.multiselect,\n              loading: unref(isLoading),\n              name: viewHeadline.value,\n              \"can-pick\": __props.canPickFn\n            }, null, 8, [\"path\", \"selected-files\", \"allow-pick-directory\", \"current-view\", \"files\", \"multiselect\", \"loading\", \"name\", \"can-pick\"])) : filterString.value ? (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 3,\n              name: unref(t)(\"No matching files\"),\n              description: unref(t)(\"No files matching your filter were found.\")\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"])) : (openBlock(), createBlock(unref(NcEmptyContent), {\n              key: 4,\n              name: unref(t)(\"No files in here\"),\n              description: noFilesDescription.value\n            }, {\n              icon: withCtx(() => [\n                createVNode(IconFile)\n              ]),\n              _: 1\n            }, 8, [\"name\", \"description\"]))\n          ])\n        ]),\n        _: 1\n      }, 8, [\"open\", \"buttons\", \"name\"]);\n    };\n  }\n});\nconst FilePicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__scopeId\", \"data-v-5287035b\"]]);\nexport {\n  FilePicker as default\n};\n//# sourceMappingURL=FilePicker-CtWlxGEm.mjs.map\n"],"names":["ShareType","loadState","app","key","fallback","selector","window","_nc_initial_state","has","get","Map","elem","document","querySelector","undefined","Error","parsedValue","JSON","parse","atob","value","set","error","console","cause","WorkerGlobalScope","globalThis","Object","prototype","toString","cacheStringFunction","fn","cache","create","str","hyphenateRE","camelizeRE","replace","toLowerCase","_","c","toUpperCase","toValue","joinPaths","args","join","arguments","length","nonEmptyArgs","filter","arg","lastArg","leadingSlash","charAt","trailingSlash","sections","reduce","acc","section","concat","split","first","path","_sfc_main$e","name","emits","props","title","type","String","fillColor","default","size","Number","_hoisted_1$c","_hoisted_2$b","_hoisted_3$a","d","_hoisted_4$a","IconFile","_ctx","_cache","$props","$setup","$data","$options","$attrs","class","role","onClick","$event","$emit","fill","width","height","viewBox","_sfc_main$d","_hoisted_1$b","_hoisted_2$a","_hoisted_3$9","_hoisted_4$9","IconSortDescending","_sfc_main$c","_hoisted_1$a","_hoisted_2$9","_hoisted_3$8","_hoisted_4$8","IconSortAscending","_sfc_main$b","_hoisted_1$9","_hoisted_2$8","_hoisted_3$7","_hoisted_4$7","IconFolder","fileListIconStyles","_sfc_main$a","__name","node","cropImagePreviews","Boolean","setup","__props","fileListIconStyles$1","previewURL","previewLoaded","u","cropPreview","isFile","File","folderDecorationIcon","Folder","attributes","mdi","shareTypes","values","flat","some","Link","Email","style","backgroundImage","NcIconSvgWrapper","inline","_hoisted_1$8","_hoisted_2$7","_hoisted_3$6","_hoisted_4$6","_hoisted_5$1","_hoisted_6$1","_hoisted_7$1","_sfc_main$9","allowPickDirectory","selected","showCheckbox","canPick","emit","__emit","emit2","timestamp","mtime","displayName","basename","slice","extension","fileExtension","isDirectory","isPickable","isNavigatable","permissions","READ","toggleSelected","handleClick","handleKeyDown","event","tabindex","click","keydown","NcCheckboxRadioSwitch","t","nodename","disabled","textContent","NcDateTime","FileListRow","_hoisted_1$7","_hoisted_2$6","_hoisted_3$5","_hoisted_4$5","_sfc_main$8","LoadingTableRow","useFilesSettings","filesUserState","showHiddenFiles","show_hidden","sortFavoritesFirst","sort_favorites_first","crop_image_previews","async","l","debug","data","s","_hoisted_1$6","_hoisted_2$5","_hoisted_3$4","_hoisted_4$4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_sfc_main$7","currentView","multiselect","loading","files","Function","required","selectedFiles","customSortingConfig","currentConfig","filesAppSorting","convertOrder","order2","filesViewsState","filesViewConfig","sortBy","sorting_mode","order","sorting_direction","recentViewConfig","recent","favoritesViewConfig","favorites","useFilesViews","sortingConfig","sortByName","sortBySize","sortByModified","toggleSorting","sortedFiles","sortFoldersFirst","sortingOrder","sortingMode","selectableFiles","file","allSelected","onSelectAll","onChangeDirectory","dir","skeletonNumber","fileContainer","resize","nodes","parentElement","children","clientHeight","index","isSameNode","Math","max","floor","addEventListener","removeEventListener","ref_key","ref","NcButton","variant","wide","icon","fileid","includes","f","onNodeSelected","onEnterDirectory","FileList","_sfc_main$6","_hoisted_1$5","_hoisted_2$4","_hoisted_3$3","_hoisted_4$3","IconHome","_sfc_main$5","_hoisted_1$4","_hoisted_2$3","_hoisted_3$2","_hoisted_4$2","IconPlus","_sfc_main$4","showMenu","actionsOpen","newNodeName","nameInput","validateInput","trim","input","$el","validity","OC","config","blacklist_files_regex","match","setCustomValidity","onSubmit","pathElements","v","map","i","elements","N","open","onClose","modelValue","label","placeholder","FilePickerBreadcrumbs","_sfc_main$3","_hoisted_1$3","_hoisted_2$2","_hoisted_3$1","_hoisted_4$1","IconClose","_sfc_main$2","_hoisted_1$2","_hoisted_2$1","_hoisted_3","_hoisted_4","IconMagnify","_hoisted_1$1","_sfc_main$1","filterString","isCollapsed","disabledNavigation","availableViews","isAnonymous","allViews","id","useViews","currentViewObject","updateFilterValue","NcTextField","onTrailingButtonClick","NcSelect","clearable","searchable","options","view","FilePickerNavigation","useDAVFiles","currentPath","client","folder","isLoading","promise","loadDAVFiles","cancel","controller","AbortController","lastTwoWeek","round","Date","now","CancelablePromise","resolve","reject","onCancel","abort","search","signal","details","results","result","getRecentNodes","directoryPath","getDirectoryContents","includeSelf","contents","find","getNodes","content","loadFiles","createDirectory","directory","stat","getFile","_hoisted_1","_hoisted_2","_sfc_main","buttons","filterFn","canPickFn","mimetypeFilter","emit$1","isOpen","savedPath","sessionStorage","getItem","navigatedPath","currentFolder","setItem","isHandlingCallback","dialogButtons","button","callback","handleButtonClick","viewHeadline","isSupportedMimeType","allowedMIMETypes","splittedTypes","mime","mimeTypeArray","subtype","useMimeFilter","filteredFiles","filtered","startsWith","noFilesDescription","onCreateFolder","warn","handleClose","NcDialog","navigation","onCreateNode","description","FilePicker"],"sourceRoot":""}