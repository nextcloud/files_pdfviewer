(()=>{var e={2556:(e,t,r)=>{"use strict";t.Kc=function(e){return new n.default(e)};var n=i(r(1957)),o=i(r(8971));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){Object.keys(e).filter((e=>!t||t(e))).map(e.removeItem.bind(e))}},8971:(e,t)=>{"use strict";function r(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n{constructor(e,t,o){r(this,"scope",void 0),r(this,"wrapped",void 0),this.scope="".concat(o?n.GLOBAL_SCOPE_PERSISTENT:n.GLOBAL_SCOPE_VOLATILE,"_").concat(btoa(e),"_"),this.wrapped=t}scopeKey(e){return"".concat(this.scope).concat(e)}setItem(e,t){this.wrapped.setItem(this.scopeKey(e),t)}getItem(e){return this.wrapped.getItem(this.scopeKey(e))}removeItem(e){this.wrapped.removeItem(this.scopeKey(e))}clear(){Object.keys(this.wrapped).filter((e=>e.startsWith(this.scope))).map(this.wrapped.removeItem.bind(this.wrapped))}}t.default=n,r(n,"GLOBAL_SCOPE_VOLATILE","nextcloud_vol"),r(n,"GLOBAL_SCOPE_PERSISTENT","nextcloud_per")},1957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(8971))&&n.__esModule?n:{default:n};function i(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.default=class{constructor(e){i(this,"appId",void 0),i(this,"persisted",!1),i(this,"clearedOnLogout",!1),this.appId=e}persist(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.persisted=e,this}clearOnLogout(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clearedOnLogout=e,this}build(){return new o.default(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}},7737:(e,t,r)=>{const n=r(5503),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=r(5519),{safeRe:s,t:a}=r(8238),c=r(4433),{compareIdentifiers:u}=r(3242);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],o=e.prerelease[t];if(n("prerelease compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const r=this.build[t],o=e.build[t];if(n("build compare",t,r,o),void 0===r&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===r)return-1;if(r!==o)return u(r,o)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},2426:(e,t,r)=>{const n=r(7737);e.exports=(e,t)=>new n(e,t).major},7488:(e,t,r)=>{const n=r(7737);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},7907:(e,t,r)=>{const n=r(7488);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},5519:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},5503:(e,t,r)=>{var n=r(4155);const o="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=o},3242:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),o=t.test(r);return n&&o&&(e=+e,r=+r),e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},4433:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},8238:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=r(5519),s=r(5503),a=(t=e.exports={}).re=[],c=t.safeRe=[],u=t.src=[],l=t.t={};let p=0;const f="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",i],[f,o]],d=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),o=p++;s(e,o,t),l[e]=o,u[o]=t,a[o]=new RegExp(t,r?"g":void 0),c[o]=new RegExp(n,r?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),d("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${f}+`),d("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),d("FULL",`^${u[l.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),d("LOOSE",`^${u[l.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),d("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?`+`(?:${u[l.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",u[l.COERCE],!0),d("COERCERTLFULL",u[l.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},9753:(e,t,r)=>{"use strict";t.nu=void 0,r(7267);const n=(e,t,r)=>{const n=Object.assign({escape:!0},r||{});return"/"!==e.charAt(0)&&(e="/"+e),o=(o=t||{})||{},e.replace(/{([^{}]*)}/g,(function(e,t){var r=o[t];return n.escape?"string"==typeof r||"number"==typeof r?encodeURIComponent(r.toString()):encodeURIComponent(e):"string"==typeof r||"number"==typeof r?r.toString():e}));var o};t.nu=(e,t,r)=>{var o;const s=Object.assign({noRewrite:!1},r||{});return!0!==(null===(o=window)||void 0===o||null===(o=o.OC)||void 0===o||null===(o=o.config)||void 0===o?void 0:o.modRewriteWorking)||s.noRewrite?i()+"/index.php"+n(e,t,r):i()+n(e,t,r)};const o=(e,t,r)=>{var n;const o=-1!==(null===(n=window)||void 0===n||null===(n=n.OC)||void 0===n||null===(n=n.coreApps)||void 0===n?void 0:n.indexOf(e));let a=i();return"php"!==r.substring(r.length-3)||o?"php"===r.substring(r.length-3)||o?(a+="settings"!==e&&"core"!==e&&"search"!==e||"ajax"!==t?"/":"/index.php/",o||(a+="apps/"),""!==e&&(a+=e+="/"),t&&(a+=t+"/"),a+=r):(a=s(e),t&&(a+="/"+t+"/"),"/"!==a.substring(a.length-1)&&(a+="/"),a+=r):(a+="/index.php/apps/"+e,"index.php"!==r&&(a+="/",t&&(a+=encodeURI(t+"/")),a+=r)),a};function i(){let e=window._oc_webroot;if(void 0===e){e=location.pathname;const t=e.indexOf("/index.php/");e=-1!==t?e.substr(0,t):e.substr(0,e.lastIndexOf("/"))}return e}function s(e){var t,r;return null!==(r=(null!==(t=window._oc_appswebroots)&&void 0!==t?t:{})[e])&&void 0!==r?r:""}},4155:e=>{var t,r,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a,c=[],u=!1,l=-1;function p(){u&&a&&(u=!1,a.length?c=a.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(a=c,c=[];++l<t;)a&&a[l].run();l=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function d(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=d,n.addListener=d,n.once=d,n.off=d,n.removeListener=d,n.removeAllListeners=d,n.emit=d,n.prependListener=d,n.prependOnceListener=d,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},509:(e,t,r)=>{"use strict";var n=r(9985),o=r(3691),i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not a function")}},1514:(e,t,r)=>{"use strict";var n=r(730).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},5027:(e,t,r)=>{"use strict";var n=r(8999),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not an object")}},4328:(e,t,r)=>{"use strict";var n=r(5290),o=r(7578),i=r(6310),s=function(e){return function(t,r,s){var a=n(t),c=i(a);if(0===c)return!e&&-1;var u,l=o(s,c);if(e&&r!=r){for(;c>l;)if((u=a[l++])!=u)return!0}else for(;c>l;l++)if((e||l in a)&&a[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},6648:(e,t,r)=>{"use strict";var n=r(8844),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},926:(e,t,r)=>{"use strict";var n=r(3043),o=r(9985),i=r(6648),s=r(4201)("toStringTag"),a=Object,c="Arguments"===i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=a(e),s))?r:c?i(t):"Object"===(n=i(t))&&o(t.callee)?"Arguments":n}},8758:(e,t,r)=>{"use strict";var n=r(6812),o=r(9152),i=r(2474),s=r(2560);e.exports=function(e,t,r){for(var a=o(t),c=s.f,u=i.f,l=0;l<a.length;l++){var p=a[l];n(e,p)||r&&n(r,p)||c(e,p,u(t,p))}}},8530:(e,t,r)=>{"use strict";var n=r(7697),o=r(2560),i=r(5684);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},5684:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1880:(e,t,r)=>{"use strict";var n=r(9985),o=r(2560),i=r(8702),s=r(5014);e.exports=function(e,t,r,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(n(r)&&i(r,u,a),a.global)c?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},5014:(e,t,r)=>{"use strict";var n=r(9037),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},7697:(e,t,r)=>{"use strict";var n=r(3689);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6420:(e,t,r)=>{"use strict";var n=r(9037),o=r(8999),i=n.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},71:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3615:(e,t,r)=>{"use strict";var n,o,i=r(9037),s=r(71),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},2739:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9989:(e,t,r)=>{"use strict";var n=r(9037),o=r(2474).f,i=r(8530),s=r(1880),a=r(5014),c=r(8758),u=r(5266);e.exports=function(e,t){var r,l,p,f,h,d=e.target,v=e.global,E=e.stat;if(r=v?n:E?n[d]||a(d,{}):n[d]&&n[d].prototype)for(l in t){if(f=t[l],p=e.dontCallGetSet?(h=o(r,l))&&h.value:r[l],!u(v?l:d+(E?".":"#")+l,e.forced)&&void 0!==p){if(typeof f==typeof p)continue;c(f,p)}(e.sham||p&&p.sham)&&i(f,"sham",!0),s(r,l,f,e)}}},3689:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},5773:(e,t,r)=>{"use strict";r(4043);var n=r(2615),o=r(1880),i=r(6308),s=r(3689),a=r(4201),c=r(8530),u=a("species"),l=RegExp.prototype;e.exports=function(e,t,r,p){var f=a(e),h=!s((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),d=h&&!s((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!h||!d||r){var v=/./[f],E=t(f,""[e],(function(e,t,r,o,s){var a=t.exec;return a===i||a===l.exec?h&&!s?{done:!0,value:n(v,t,r,o)}:{done:!0,value:n(e,r,t,o)}:{done:!1}}));o(String.prototype,e,E[0]),o(l,f,E[1])}p&&c(l[f],"sham",!0)}},1735:(e,t,r)=>{"use strict";var n=r(7215),o=Function.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},7215:(e,t,r)=>{"use strict";var n=r(3689);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2615:(e,t,r)=>{"use strict";var n=r(7215),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},1236:(e,t,r)=>{"use strict";var n=r(7697),o=r(6812),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!n||n&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},8844:(e,t,r)=>{"use strict";var n=r(7215),o=Function.prototype,i=o.call,s=n&&o.bind.bind(i,i);e.exports=n?s:function(e){return function(){return i.apply(e,arguments)}}},6058:(e,t,r)=>{"use strict";var n=r(9037),o=r(9985);e.exports=function(e,t){return arguments.length<2?(r=n[e],o(r)?r:void 0):n[e]&&n[e][t];var r}},4849:(e,t,r)=>{"use strict";var n=r(509),o=r(981);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},7017:(e,t,r)=>{"use strict";var n=r(8844),o=r(690),i=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,p,f){var h=r+e.length,d=n.length,v=l;return void 0!==p&&(p=o(p),v=u),a(f,v,(function(o,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,h);case"<":u=p[c(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>d){var f=i(l/10);return 0===f?o:f<=d?void 0===n[f-1]?s(a,1):n[f-1]+s(a,1):o}u=n[l-1]}return void 0===u?"":u}))}},9037:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},6812:(e,t,r)=>{"use strict";var n=r(8844),o=r(690),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},7248:e=>{"use strict";e.exports={}},2688:(e,t,r)=>{"use strict";var n=r(6058);e.exports=n("document","documentElement")},8506:(e,t,r)=>{"use strict";var n=r(7697),o=r(3689),i=r(6420);e.exports=!n&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},4413:(e,t,r)=>{"use strict";var n=r(8844),o=r(3689),i=r(6648),s=Object,a=n("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?a(e,""):s(e)}:s},6738:(e,t,r)=>{"use strict";var n=r(8844),o=r(9985),i=r(4091),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},618:(e,t,r)=>{"use strict";var n,o,i,s=r(9834),a=r(9037),c=r(8999),u=r(8530),l=r(6812),p=r(4091),f=r(2713),h=r(7248),d="Object already initialized",v=a.TypeError,E=a.WeakMap;if(s||p.state){var g=p.state||(p.state=new E);g.get=g.get,g.has=g.has,g.set=g.set,n=function(e,t){if(g.has(e))throw new v(d);return t.facade=e,g.set(e,t),t},o=function(e){return g.get(e)||{}},i=function(e){return g.has(e)}}else{var b=f("state");h[b]=!0,n=function(e,t){if(l(e,b))throw new v(d);return t.facade=e,u(e,b,t),t},o=function(e){return l(e,b)?e[b]:{}},i=function(e){return l(e,b)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw new v("Incompatible receiver, "+e+" required");return r}}}},9985:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},5266:(e,t,r)=>{"use strict";var n=r(3689),o=r(9985),i=/#|\.prototype\./,s=function(e,t){var r=c[a(e)];return r===l||r!==u&&(o(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},981:e=>{"use strict";e.exports=function(e){return null==e}},8999:(e,t,r)=>{"use strict";var n=r(9985);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},3931:e=>{"use strict";e.exports=!1},734:(e,t,r)=>{"use strict";var n=r(6058),o=r(9985),i=r(3622),s=r(9525),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,a(e))}},6310:(e,t,r)=>{"use strict";var n=r(3126);e.exports=function(e){return n(e.length)}},8702:(e,t,r)=>{"use strict";var n=r(8844),o=r(3689),i=r(9985),s=r(6812),a=r(7697),c=r(1236).CONFIGURABLE,u=r(6738),l=r(618),p=l.enforce,f=l.get,h=String,d=Object.defineProperty,v=n("".slice),E=n("".replace),g=n([].join),b=a&&!o((function(){return 8!==d((function(){}),"length",{value:8}).length})),m=String(String).split("String"),I=e.exports=function(e,t,r){"Symbol("===v(h(t),0,7)&&(t="["+E(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?d(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&s(r,"arity")&&e.length!==r.arity&&d(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=p(e);return s(n,"source")||(n.source=g(m,"string"==typeof t?t:"")),e};Function.prototype.toString=I((function(){return i(this)&&f(this).source||u(this)}),"toString")},8828:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},5391:(e,t,r)=>{"use strict";var n,o=r(5027),i=r(8920),s=r(2739),a=r(7248),c=r(2688),u=r(6420),l=r(2713),p="prototype",f="script",h=l("IE_PROTO"),d=function(){},v=function(e){return"<"+f+">"+e+"</"+f+">"},E=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;g="undefined"!=typeof document?document.domain&&n?E(n):(t=u("iframe"),r="java"+f+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(v("document.F=Object")),e.close(),e.F):E(n);for(var o=s.length;o--;)delete g[p][s[o]];return g()};a[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(d[p]=o(e),r=new d,d[p]=null,r[h]=e):r=g(),void 0===t?r:i.f(r,t)}},8920:(e,t,r)=>{"use strict";var n=r(7697),o=r(5648),i=r(2560),s=r(5027),a=r(5290),c=r(300);t.f=n&&!o?Object.defineProperties:function(e,t){s(e);for(var r,n=a(t),o=c(t),u=o.length,l=0;u>l;)i.f(e,r=o[l++],n[r]);return e}},2560:(e,t,r)=>{"use strict";var n=r(7697),o=r(8506),i=r(5648),s=r(5027),a=r(8360),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,p="enumerable",f="configurable",h="writable";t.f=n?i?function(e,t,r){if(s(e),t=a(t),s(r),"function"==typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=l(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:p in r?r[p]:n[p],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(s(e),t=a(t),s(r),o)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},2474:(e,t,r)=>{"use strict";var n=r(7697),o=r(2615),i=r(9556),s=r(5684),a=r(5290),c=r(8360),u=r(6812),l=r(8506),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(e,t){if(e=a(e),t=c(t),l)try{return p(e,t)}catch(e){}if(u(e,t))return s(!o(i.f,e,t),e[t])}},2741:(e,t,r)=>{"use strict";var n=r(4948),o=r(2739).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},7518:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},3622:(e,t,r)=>{"use strict";var n=r(8844);e.exports=n({}.isPrototypeOf)},4948:(e,t,r)=>{"use strict";var n=r(8844),o=r(6812),i=r(5290),s=r(4328).indexOf,a=r(7248),c=n([].push);e.exports=function(e,t){var r,n=i(e),u=0,l=[];for(r in n)!o(a,r)&&o(n,r)&&c(l,r);for(;t.length>u;)o(n,r=t[u++])&&(~s(l,r)||c(l,r));return l}},300:(e,t,r)=>{"use strict";var n=r(4948),o=r(2739);e.exports=Object.keys||function(e){return n(e,o)}},9556:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},5899:(e,t,r)=>{"use strict";var n=r(2615),o=r(9985),i=r(8999),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&o(r=e.toString)&&!i(a=n(r,e)))return a;if(o(r=e.valueOf)&&!i(a=n(r,e)))return a;if("string"!==t&&o(r=e.toString)&&!i(a=n(r,e)))return a;throw new s("Can't convert object to primitive value")}},9152:(e,t,r)=>{"use strict";var n=r(6058),o=r(8844),i=r(2741),s=r(7518),a=r(5027),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?c(t,r(e)):t}},6100:(e,t,r)=>{"use strict";var n=r(2615),o=r(5027),i=r(9985),s=r(6648),a=r(6308),c=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var u=n(r,e,t);return null!==u&&o(u),u}if("RegExp"===s(e))return n(a,e,t);throw new c("RegExp#exec called on incompatible receiver")}},6308:(e,t,r)=>{"use strict";var n,o,i=r(2615),s=r(8844),a=r(4327),c=r(9633),u=r(7901),l=r(3430),p=r(5391),f=r(618).get,h=r(2100),d=r(6422),v=l("native-string-replace",String.prototype.replace),E=RegExp.prototype.exec,g=E,b=s("".charAt),m=s("".indexOf),I=s("".replace),y=s("".slice),O=(o=/b*/g,i(E,n=/a/,"a"),i(E,o,"a"),0!==n.lastIndex||0!==o.lastIndex),w=u.BROKEN_CARET,x=void 0!==/()??/.exec("")[1];(O||x||w||h||d)&&(g=function(e){var t,r,n,o,s,u,l,h=this,d=f(h),R=a(e),L=d.raw;if(L)return L.lastIndex=h.lastIndex,t=i(g,L,R),h.lastIndex=L.lastIndex,t;var N=d.groups,S=w&&h.sticky,T=i(c,h),A=h.source,$=0,P=R;if(S&&(T=I(T,"y",""),-1===m(T,"g")&&(T+="g"),P=y(R,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==b(R,h.lastIndex-1))&&(A="(?: "+A+")",P=" "+P,$++),r=new RegExp("^(?:"+A+")",T)),x&&(r=new RegExp("^"+A+"$(?!\\s)",T)),O&&(n=h.lastIndex),o=i(E,S?r:h,P),S?o?(o.input=y(o.input,$),o[0]=y(o[0],$),o.index=h.lastIndex,h.lastIndex+=o[0].length):h.lastIndex=0:O&&o&&(h.lastIndex=h.global?o.index+o[0].length:n),x&&o&&o.length>1&&i(v,o[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(o[s]=void 0)})),o&&N)for(o.groups=u=p(null),s=0;s<N.length;s++)u[(l=N[s])[0]]=o[l[1]];return o}),e.exports=g},9633:(e,t,r)=>{"use strict";var n=r(5027);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},7901:(e,t,r)=>{"use strict";var n=r(3689),o=r(9037).RegExp,i=n((function(){var e=o("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),s=i||n((function(){return!o("a","y").sticky})),a=i||n((function(){var e=o("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i}},2100:(e,t,r)=>{"use strict";var n=r(3689),o=r(9037).RegExp;e.exports=n((function(){var e=o(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},6422:(e,t,r)=>{"use strict";var n=r(3689),o=r(9037).RegExp;e.exports=n((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4684:(e,t,r)=>{"use strict";var n=r(981),o=TypeError;e.exports=function(e){if(n(e))throw new o("Can't call method on "+e);return e}},2713:(e,t,r)=>{"use strict";var n=r(3430),o=r(4630),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},4091:(e,t,r)=>{"use strict";var n=r(3931),o=r(9037),i=r(5014),s="__core-js_shared__",a=e.exports=o[s]||i(s,{});(a.versions||(a.versions=[])).push({version:"3.37.0",mode:n?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},3430:(e,t,r)=>{"use strict";var n=r(4091);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},730:(e,t,r)=>{"use strict";var n=r(8844),o=r(8700),i=r(4327),s=r(4684),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),l=function(e){return function(t,r){var n,l,p=i(s(t)),f=o(r),h=p.length;return f<0||f>=h?e?"":void 0:(n=c(p,f))<55296||n>56319||f+1===h||(l=c(p,f+1))<56320||l>57343?e?a(p,f):n:e?u(p,f,f+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},146:(e,t,r)=>{"use strict";var n=r(3615),o=r(3689),i=r(9037).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},7578:(e,t,r)=>{"use strict";var n=r(8700),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},5290:(e,t,r)=>{"use strict";var n=r(4413),o=r(4684);e.exports=function(e){return n(o(e))}},8700:(e,t,r)=>{"use strict";var n=r(8828);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},3126:(e,t,r)=>{"use strict";var n=r(8700),o=Math.min;e.exports=function(e){var t=n(e);return t>0?o(t,9007199254740991):0}},690:(e,t,r)=>{"use strict";var n=r(4684),o=Object;e.exports=function(e){return o(n(e))}},8732:(e,t,r)=>{"use strict";var n=r(2615),o=r(8999),i=r(734),s=r(4849),a=r(5899),c=r(4201),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,c=s(e,l);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||i(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},8360:(e,t,r)=>{"use strict";var n=r(8732),o=r(734);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},3043:(e,t,r)=>{"use strict";var n={};n[r(4201)("toStringTag")]="z",e.exports="[object z]"===String(n)},4327:(e,t,r)=>{"use strict";var n=r(926),o=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},3691:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},4630:(e,t,r)=>{"use strict";var n=r(8844),o=0,i=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},9525:(e,t,r)=>{"use strict";var n=r(146);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},5648:(e,t,r)=>{"use strict";var n=r(7697),o=r(3689);e.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9834:(e,t,r)=>{"use strict";var n=r(9037),o=r(9985),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},4201:(e,t,r)=>{"use strict";var n=r(9037),o=r(3430),i=r(6812),s=r(4630),a=r(146),c=r(9525),u=n.Symbol,l=o("wks"),p=c?u.for||u:u&&u.withoutSetter||s;e.exports=function(e){return i(l,e)||(l[e]=a&&i(u,e)?u[e]:p("Symbol."+e)),l[e]}},4043:(e,t,r)=>{"use strict";var n=r(9989),o=r(6308);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},7267:(e,t,r)=>{"use strict";var n=r(1735),o=r(2615),i=r(8844),s=r(5773),a=r(3689),c=r(5027),u=r(9985),l=r(981),p=r(8700),f=r(3126),h=r(4327),d=r(4684),v=r(1514),E=r(4849),g=r(7017),b=r(6100),m=r(4201)("replace"),I=Math.max,y=Math.min,O=i([].concat),w=i([].push),x=i("".indexOf),R=i("".slice),L="$0"==="a".replace(/./,"$0"),N=!!/./[m]&&""===/./[m]("a","$0");s("replace",(function(e,t,r){var i=N?"$":"$0";return[function(e,r){var n=d(this),i=l(e)?void 0:E(e,m);return i?o(i,e,n,r):o(t,h(n),e,r)},function(e,o){var s=c(this),a=h(e);if("string"==typeof o&&-1===x(o,i)&&-1===x(o,"$<")){var l=r(t,s,a,o);if(l.done)return l.value}var d=u(o);d||(o=h(o));var E,m=s.global;m&&(E=s.unicode,s.lastIndex=0);for(var L,N=[];null!==(L=b(s,a))&&(w(N,L),m);){""===h(L[0])&&(s.lastIndex=v(a,f(s.lastIndex),E))}for(var S,T="",A=0,$=0;$<N.length;$++){for(var P,j=h((L=N[$])[0]),_=I(y(p(L.index),a.length),0),C=[],D=1;D<L.length;D++)w(C,void 0===(S=L[D])?S:String(S));var F=L.groups;if(d){var M=O([j],C,_,a);void 0!==F&&w(M,F),P=h(n(o,void 0,M))}else P=g(j,a,_,C,F,o);_>=A&&(T+=R(a,A,_)+P,A=_+j.length)}return T+R(a,A)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!L||N)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";var e=r(9753),t=r(7907),n=r(2426);class o{bus;constructor(e){"function"==typeof e.getVersion&&t(e.getVersion())?n(e.getVersion())!==n(this.getVersion())&&console.warn("Proxying an event bus of version "+e.getVersion()+" with "+this.getVersion()):console.warn("Proxying an event bus with an unknown or invalid version"),this.bus=e}getVersion(){return"3.3.1"}subscribe(e,t){this.bus.subscribe(e,t)}unsubscribe(e,t){this.bus.unsubscribe(e,t)}emit(e,t){this.bus.emit(e,t)}}class i{handlers=new Map;getVersion(){return"3.3.1"}subscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).concat(t))}unsubscribe(e,t){this.handlers.set(e,(this.handlers.get(e)||[]).filter((e=>e!==t)))}emit(e,t){(this.handlers.get(e)||[]).forEach((e=>{try{e(t)}catch(e){console.error("could not invoke event listener",e)}}))}}let s=null;function a(){return null!==s?s:"undefined"==typeof window?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&void 0===window._nc_event_bus&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),s=void 0!==window?._nc_event_bus?new o(window._nc_event_bus):window._nc_event_bus=new i,s)}var c=r(2556);let u;const l=[];var p,f;p="csrf-token-update",f=e=>{u=e.token,l.forEach((e=>{try{e(u)}catch(e){console.error("Error updating CSRF token observer",e)}}))},a().subscribe(p,f);(0,c.Kc)("public").persist().build();let h;const d=(e,t)=>e?e.getAttribute(t):null;var v=(e=>(e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Fatal=4]="Fatal",e))(v||{}),E=Object.defineProperty,g=(e,t,r)=>(((e,t,r)=>{t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);class b{constructor(e){g(this,"context"),this.context=e||{}}formatMessage(e,t,r){let n="["+v[t].toUpperCase()+"] ";return r&&r.app&&(n+=r.app+": "),"string"==typeof e?n+e:(n+="Unexpected ".concat(e.name),e.message&&(n+=' "'.concat(e.message,'"')),t===v.Debug&&e.stack&&(n+="\n\nStack trace:\n".concat(e.stack)),n)}log(e,t,r){var n,o;if(!("number"==typeof(null==(n=this.context)?void 0:n.level)&&e<(null==(o=this.context)?void 0:o.level)))switch("object"==typeof t&&void 0===(null==r?void 0:r.error)&&(r.error=t),e){case v.Debug:console.debug(this.formatMessage(t,v.Debug,r),r);break;case v.Info:console.info(this.formatMessage(t,v.Info,r),r);break;case v.Warn:console.warn(this.formatMessage(t,v.Warn,r),r);break;case v.Error:console.error(this.formatMessage(t,v.Error,r),r);break;case v.Fatal:default:console.error(this.formatMessage(t,v.Fatal,r),r)}}debug(e,t){this.log(v.Debug,e,Object.assign({},this.context,t))}info(e,t){this.log(v.Info,e,Object.assign({},this.context,t))}warn(e,t){this.log(v.Warn,e,Object.assign({},this.context,t))}error(e,t){this.log(v.Error,e,Object.assign({},this.context,t))}fatal(e,t){this.log(v.Fatal,e,Object.assign({},this.context,t))}}function m(e){return new b(e)}var I=Object.defineProperty,y=(e,t,r)=>(((e,t,r)=>{t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);class O{constructor(e){y(this,"context"),y(this,"factory"),this.context={},this.factory=e}setApp(e){return this.context.app=e,this}setLogLevel(e){return this.context.level=e,this}setUid(e){return this.context.uid=e,this}detectUser(){const e=function(){if(void 0!==h)return h;const e=document?.getElementsByTagName("head")[0];if(!e)return null;const t=d(e,"data-user");return null===t?(h=null,h):(h={uid:t,displayName:d(e,"data-user-displayname"),isAdmin:!!window._oc_isadmin},h)}();return null!==e&&(this.context.uid=e.uid),this}detectLogLevel(){const e=this,t=()=>{var r,n;"complete"===document.readyState||"interactive"===document.readyState?(e.context.level=null!=(n=null==(r=window._oc_config)?void 0:r.loglevel)?n:v.Warn,window._oc_debug&&(e.context.level=v.Debug),document.removeEventListener("readystatechange",t)):document.addEventListener("readystatechange",t)};return t(),this}build(){return void 0===this.context.level&&this.detectLogLevel(),this.factory(this.context)}}function w(){return new O(m)}const x=w().setApp("Files_PDFViewer").detectUser().build(),R=document.getElementById("hideDownload"),L=()=>!R||R&&"true"!==R.value,N=document.getElementById("isPublic"),S=()=>!(!N||"1"!==N.value),T=document.getElementById("mimetype"),A=()=>T&&"application/pdf"===T.value,$=()=>!L()&&void 0!==OCA.RichDocuments;window.addEventListener("DOMContentLoaded",(function(){if(x.debug("Initializing for public page",{isPublicPage:S(),canDownload:L(),isSecureViewerAvailable:$()}),!S()||A())if(S()&&A()&&!$()){const t=location.hash.split("page=")[1]||0,r=document.getElementById("files-public-content"),n=document.getElementById("sharingToken"),o=document.querySelector("body > footer")||document.querySelector("#app-content > footer"),i=document.querySelector("#content"),s=n.value,a=(0,e.nu)("/s/{token}/download",{token:s}),c=(0,e.nu)("/apps/files_pdfviewer/?file={downloadUrl}&canDownload={canDownload}#page={page}",{canDownload:L()?1:0,downloadUrl:a,page:t});if(r){if(r.innerHTML="",OCA.Viewer)OCA.Viewer.setRootElement("#files-public-content"),OCA.Viewer.open({path:"/"});else{x.error("Viewer not available, PDF viewer directly injected");const e=document.createElement("iframe");e.style.height="100%",e.style.width="100%",e.style.position="absolute",r.appendChild(e),e.src=c}o.style.display="none",i.style.minHeight="calc(100% - var(--header-height))",i.style.marginLeft="0",i.style.marginRight="0",i.style.width="100%",i.style.borderRadius="unset"}else x.error("Unable to inject the PDF Viewer")}else x.error("But this does not appear to be a public page");else x.debug("But this is not a single pdf share")}))})()})();
//# sourceMappingURL=files_pdfviewer-public.js.map?v=3ccba2c364ce506a7c0e