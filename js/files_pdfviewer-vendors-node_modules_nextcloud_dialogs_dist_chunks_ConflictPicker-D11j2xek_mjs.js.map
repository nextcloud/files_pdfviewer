{"version":3,"file":"files_pdfviewer-vendors-node_modules_nextcloud_dialogs_dist_chunks_ConflictPicker-D11j2xek_mjs.js?v=4076edecb454da44acda","mappings":"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","sources":["webpack:///files_pdfviewer/node_modules/@nextcloud/dialogs/dist/chunks/ConflictPicker-D11j2xek.mjs"],"sourcesContent":["import { defineComponent, mergeModels, useModel, ref, computed, watch, createElementBlock, openBlock, normalizeClass, createElementVNode, createVNode, toDisplayString, unref, withCtx, createBlock, useTemplateRef, shallowRef, createTextVNode, Fragment, withModifiers, renderList, createCommentVNode } from \"vue\";\nimport { mdiFolder, mdiFile, mdiClose, mdiArrowRight } from \"@mdi/js\";\nimport NcButton from \"@nextcloud/vue/components/NcButton\";\nimport NcCheckboxRadioSwitch from \"@nextcloud/vue/components/NcCheckboxRadioSwitch\";\nimport NcDialog from \"@nextcloud/vue/components/NcDialog\";\nimport NcIconSvgWrapper from \"@nextcloud/vue/components/NcIconSvgWrapper\";\nimport { FileType } from \"@nextcloud/files\";\nimport NcDateTime from \"@nextcloud/vue/components/NcDateTime\";\nimport { g as getPreviewURL } from \"./preview-BIbJGxXF.mjs\";\nimport { t, n, l as logger, s as showError } from \"./index-hZPKu-D6.mjs\";\nimport { _ as _export_sfc } from \"./_plugin-vue_export-helper-1tPrXgE0.mjs\";\nconst _hoisted_1$1 = [\"src\"];\nconst _hoisted_2$1 = { key: 1 };\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = { key: 1 };\nconst PREVIEW_SIZE = 64;\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"ConflictPickerEntry\",\n  props: /* @__PURE__ */ mergeModels({\n    existing: {},\n    incoming: {}\n  }, {\n    \"existingSelected\": { type: Boolean, ...{ required: true } },\n    \"existingSelectedModifiers\": {},\n    \"incomingSelected\": { type: Boolean, ...{ required: true } },\n    \"incomingSelectedModifiers\": {}\n  }),\n  emits: [\"update:existingSelected\", \"update:incomingSelected\"],\n  setup(__props, { expose: __expose }) {\n    const existingSelected = useModel(__props, \"existingSelected\");\n    const incomingSelected = useModel(__props, \"incomingSelected\");\n    const props = __props;\n    __expose({ validate });\n    const isFileSystemEntry = (o) => \"FileSystemEntry\" in window && o instanceof window.FileSystemEntry;\n    const isFileSystemFileEntry = (o) => \"FileSystemFileEntry\" in window && o instanceof window.FileSystemFileEntry;\n    const validationMessage = ref(\"\");\n    const incomingPreview = ref();\n    const existingPreview = ref();\n    const incomingMTime = ref();\n    const existingMTime = ref();\n    const incomingSize = ref();\n    const existingSize = ref();\n    const conflictResolved = computed(() => incomingSelected.value || existingSelected.value);\n    const isExistingFolder = computed(() => props.existing.type === FileType.Folder);\n    const isIncomingFolder = computed(() => {\n      if (isFileSystemEntry(props.incoming)) {\n        return props.incoming.isDirectory;\n      } else if (props.incoming instanceof File) {\n        return false;\n      }\n      return props.incoming.type === FileType.Folder;\n    });\n    watch(() => props.existing, async () => {\n      existingMTime.value = getMTime(props.existing);\n      existingSize.value = getSize(props.existing);\n      existingPreview.value = await getPreview(props.existing);\n    });\n    watch(() => props.incoming, async () => {\n      const file = await getFileOrNode(props.incoming);\n      if (file === null) {\n        return;\n      }\n      incomingMTime.value = getMTime(file);\n      incomingSize.value = getSize(file);\n      incomingPreview.value = await getPreview(file);\n    });\n    async function getFileOrNode(input) {\n      if (isFileSystemFileEntry(input)) {\n        return await new Promise((resolve, reject) => input.file(resolve, reject));\n      } else if (isFileSystemEntry(input)) {\n        return null;\n      }\n      return input;\n    }\n    function getSize(input) {\n      return input.size;\n    }\n    function getMTime(input) {\n      if (input instanceof File) {\n        const mtime = input.lastModified;\n        if (mtime > 0) {\n          return new Date(mtime);\n        }\n      } else {\n        return input.mtime;\n      }\n    }\n    async function getPreview(input) {\n      if (input instanceof File) {\n        return await getFilePreview(input);\n      }\n      return getPreviewURL(input, { size: PREVIEW_SIZE })?.toString();\n    }\n    async function getFilePreview(file) {\n      if (!file.type.startsWith(\"image/\")) {\n        return void 0;\n      }\n      const { resolve, promise } = Promise.withResolvers();\n      const reader = new FileReader();\n      reader.onload = async (e) => {\n        const result = e?.target?.result;\n        if (result instanceof ArrayBuffer) {\n          const blob = new Blob([result], { type: file.type });\n          const url = URL.createObjectURL(blob);\n          resolve(url);\n          return;\n        }\n        resolve(void 0);\n      };\n      reader.readAsArrayBuffer(file);\n      return promise;\n    }\n    function validate() {\n      validationMessage.value = !incomingSelected.value && !existingSelected.value ? t(\"You need to choose at least one conflict solution\") : \"\";\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"fieldset\", {\n        class: normalizeClass(_ctx.$style.pickerEntry)\n      }, [\n        createElementVNode(\"legend\", null, toDisplayString(__props.existing.basename), 1),\n        createVNode(unref(NcCheckboxRadioSwitch), {\n          modelValue: incomingSelected.value,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => incomingSelected.value = $event),\n          error: !!validationMessage.value,\n          \"helper-text\": validationMessage.value,\n          required: !conflictResolved.value\n        }, {\n          default: withCtx(() => [\n            createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.$style.pickerEntryItem)\n            }, [\n              !incomingPreview.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n                key: 0,\n                class: normalizeClass([_ctx.$style.pickerEntryIcon, { [_ctx.$style.pickerEntryIcon_folder]: isExistingFolder.value }]),\n                path: isIncomingFolder.value ? unref(mdiFolder) : unref(mdiFile),\n                size: 48\n              }, null, 8, [\"class\", \"path\"])) : (openBlock(), createElementBlock(\"img\", {\n                key: 1,\n                class: normalizeClass(_ctx.$style.pickerEntryPreview),\n                src: incomingPreview.value,\n                alt: \"\",\n                loading: \"lazy\"\n              }, null, 10, _hoisted_1$1)),\n              createElementVNode(\"span\", {\n                class: normalizeClass(_ctx.$style.pickerEntryDescription)\n              }, [\n                createElementVNode(\"span\", null, toDisplayString(unref(t)(\"New version\")), 1),\n                incomingMTime.value ? (openBlock(), createBlock(unref(NcDateTime), {\n                  key: 0,\n                  timestamp: incomingMTime.value,\n                  \"relative-time\": false,\n                  format: { timeStyle: \"short\", dateStyle: \"medium\" }\n                }, null, 8, [\"timestamp\"])) : (openBlock(), createElementBlock(\"span\", _hoisted_2$1, toDisplayString(unref(t)(\"Last modified date unknown\")), 1)),\n                createElementVNode(\"span\", null, toDisplayString(incomingSize.value), 1)\n              ], 2)\n            ], 2)\n          ]),\n          _: 1\n        }, 8, [\"modelValue\", \"error\", \"helper-text\", \"required\"]),\n        createVNode(unref(NcCheckboxRadioSwitch), {\n          modelValue: existingSelected.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => existingSelected.value = $event),\n          error: !!validationMessage.value,\n          \"helper-text\": validationMessage.value,\n          required: !conflictResolved.value\n        }, {\n          default: withCtx(() => [\n            createElementVNode(\"span\", {\n              class: normalizeClass(_ctx.$style.pickerEntryItem)\n            }, [\n              !existingPreview.value ? (openBlock(), createBlock(unref(NcIconSvgWrapper), {\n                key: 0,\n                class: normalizeClass([_ctx.$style.pickerEntryIcon, { [_ctx.$style.pickerEntryIcon_folder]: isExistingFolder.value }]),\n                path: isExistingFolder.value ? unref(mdiFolder) : unref(mdiFile),\n                size: 48\n              }, null, 8, [\"class\", \"path\"])) : (openBlock(), createElementBlock(\"img\", {\n                key: 1,\n                class: normalizeClass(_ctx.$style.pickerEntryPreview),\n                src: existingPreview.value,\n                alt: \"\",\n                loading: \"lazy\"\n              }, null, 10, _hoisted_3)),\n              createElementVNode(\"span\", {\n                class: normalizeClass(_ctx.$style.pickerEntryDescription)\n              }, [\n                createElementVNode(\"span\", null, toDisplayString(unref(t)(\"Existing version\")), 1),\n                existingMTime.value ? (openBlock(), createBlock(unref(NcDateTime), {\n                  key: 0,\n                  timestamp: existingMTime.value,\n                  \"relative-time\": false,\n                  format: { timeStyle: \"short\", dateStyle: \"medium\" }\n                }, null, 8, [\"timestamp\"])) : (openBlock(), createElementBlock(\"span\", _hoisted_4, toDisplayString(unref(t)(\"Last modified date unknown\")), 1)),\n                createElementVNode(\"span\", null, toDisplayString(existingSize.value), 1)\n              ], 2)\n            ], 2)\n          ]),\n          _: 1\n        }, 8, [\"modelValue\", \"error\", \"helper-text\", \"required\"])\n      ], 2);\n    };\n  }\n});\nconst pickerEntry = \"_pickerEntry_xk2pl_1\";\nconst pickerEntryItem = \"_pickerEntryItem_xk2pl_5\";\nconst pickerEntryIcon = \"_pickerEntryIcon_xk2pl_11\";\nconst pickerEntryPreview = \"_pickerEntryPreview_xk2pl_12\";\nconst pickerEntryIcon_folder = \"_pickerEntryIcon_folder_xk2pl_24\";\nconst pickerEntryDescription = \"_pickerEntryDescription_xk2pl_34\";\nconst style0$1 = {\n  pickerEntry,\n  pickerEntryItem,\n  pickerEntryIcon,\n  pickerEntryPreview,\n  pickerEntryIcon_folder,\n  pickerEntryDescription\n};\nconst cssModules$1 = {\n  \"$style\": style0$1\n};\nconst ConflictPickerEntry = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"__cssModules\", cssModules$1]]);\nconst _hoisted_1 = { class: \"hidden-visually\" };\nconst _hoisted_2 = {\n  key: 0,\n  class: \"hidden-visually\"\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"ConflictPicker\",\n  props: {\n    container: {},\n    dirname: {},\n    existing: {},\n    incoming: {},\n    recursiveUpload: { type: Boolean }\n  },\n  emits: [\"close\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit = __emit;\n    const blockedTitle = t(\"You need to select at least one version of each file to continue.\");\n    const formElement = useTemplateRef(\"form\");\n    const conflictEntries = useTemplateRef(\"conflictEntry\");\n    const newSelected = shallowRef([]);\n    const oldSelected = shallowRef([]);\n    const isNoNewSelected = computed(() => newSelected.value.length === 0);\n    const areAllNewSelected = computed(() => newSelected.value.length === props.incoming.length);\n    const areSomeNewSelected = computed(() => !areAllNewSelected.value && !isNoNewSelected.value);\n    const areAllOldSelected = computed(() => oldSelected.value.length === props.existing.length);\n    const areSomeOldSelected = computed(() => !areAllOldSelected.value && !isNoNewSelected.value);\n    const areConflictsResolved = computed(() => {\n      for (const conflict of props.incoming) {\n        if (oldSelected.value.includes(conflict) || newSelected.value.includes(conflict)) {\n          continue;\n        }\n        return false;\n      }\n      return true;\n    });\n    const dialogName = computed(() => props.dirname?.trim() !== \"\" ? n(\"%n file conflict in {dirname}\", \"%n file conflicts in {dirname}\", props.incoming.length, { dirname: props.dirname }) : n(\"%n file conflict\", \"%n files conflict\", props.incoming.length));\n    function onCancel() {\n      emit(\"close\", null);\n    }\n    function onSkipAll() {\n      logger.debug(\"Conflict skipped. Ignoring all conflicting files\");\n      emit(\"close\", {\n        selected: [],\n        renamed: [],\n        skipped: [...props.incoming]\n      });\n    }\n    function onSelectAllNew(selected) {\n      if (selected) {\n        logger.debug(\"Selected all new files\");\n        newSelected.value = [...props.incoming];\n      } else {\n        logger.debug(\"Cleared new selection\");\n        newSelected.value = [];\n      }\n    }\n    function onSelectAllOld(selected) {\n      if (selected) {\n        logger.debug(\"Selected all existing files\");\n        oldSelected.value = [...props.incoming];\n      } else {\n        logger.debug(\"Cleared old selection\");\n        oldSelected.value = [];\n      }\n    }\n    function toggleOldSelected(conflict) {\n      if (oldSelected.value.includes(conflict)) {\n        oldSelected.value = oldSelected.value.filter((entry) => entry !== conflict);\n      } else {\n        oldSelected.value = [...oldSelected.value, conflict];\n      }\n    }\n    function toggleNewSelected(conflict) {\n      if (newSelected.value.includes(conflict)) {\n        newSelected.value = newSelected.value.filter((entry) => entry !== conflict);\n      } else {\n        newSelected.value = [...newSelected.value, conflict];\n      }\n    }\n    function onSubmit() {\n      if (!areConflictsResolved.value) {\n        for (const entry of conflictEntries.value) {\n          entry.validate();\n        }\n        formElement.value.reportValidity();\n        showError(blockedTitle);\n        return;\n      }\n      const selected = newSelected.value.filter((entry) => !oldSelected.value.includes(entry));\n      const renamed = newSelected.value.filter((entry) => oldSelected.value.includes(entry));\n      const skipped = oldSelected.value.filter((entry) => !newSelected.value.includes(entry));\n      emit(\"close\", {\n        renamed,\n        selected,\n        skipped\n      });\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(NcDialog), {\n        container: __props.container,\n        class: normalizeClass(_ctx.$style.picker),\n        name: dialogName.value,\n        size: \"large\",\n        onClosing: onCancel\n      }, {\n        actions: withCtx(() => [\n          createVNode(unref(NcButton), {\n            title: unref(t)(\"Cancel the entire operation\"),\n            \"data-cy-conflict-picker-cancel\": \"\",\n            variant: \"tertiary\",\n            onClick: onCancel\n          }, {\n            icon: withCtx(() => [\n              createVNode(unref(NcIconSvgWrapper), { path: unref(mdiClose) }, null, 8, [\"path\"])\n            ]),\n            default: withCtx(() => [\n              createTextVNode(\" \" + toDisplayString(unref(t)(\"Cancel\")), 1)\n            ]),\n            _: 1\n          }, 8, [\"title\"]),\n          createElementVNode(\"span\", {\n            class: normalizeClass(_ctx.$style.pickerActionSeparator)\n          }, null, 2),\n          createVNode(unref(NcButton), { onClick: onSkipAll }, {\n            icon: withCtx(() => [\n              createVNode(unref(NcIconSvgWrapper), { path: unref(mdiClose) }, null, 8, [\"path\"])\n            ]),\n            default: withCtx(() => [\n              createTextVNode(\" \" + toDisplayString(__props.incoming.length === 1 ? unref(t)(\"Skip this file\") : unref(n)(\"Skip %n file\", \"Skip %n files\", __props.incoming.length)), 1)\n            ]),\n            _: 1\n          }),\n          createVNode(unref(NcButton), {\n            \"aria-disabled\": !areConflictsResolved.value,\n            class: normalizeClass([\n              _ctx.$style.pickerActionSubmit,\n              {\n                [_ctx.$style.pickerActionSubmit_disabled]: !areConflictsResolved.value\n              }\n            ]),\n            title: areConflictsResolved.value ? \"\" : unref(blockedTitle),\n            type: \"submit\",\n            variant: \"primary\",\n            onClick: withModifiers(onSubmit, [\"stop\", \"prevent\"])\n          }, {\n            icon: withCtx(() => [\n              createVNode(unref(NcIconSvgWrapper), {\n                directional: \"\",\n                path: unref(mdiArrowRight)\n              }, null, 8, [\"path\"])\n            ]),\n            default: withCtx(() => [\n              createTextVNode(\" \" + toDisplayString(unref(t)(\"Continue\")) + \" \", 1),\n              !areConflictsResolved.value ? (openBlock(), createElementBlock(\"span\", _hoisted_2, toDisplayString(unref(blockedTitle)), 1)) : createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"aria-disabled\", \"class\", \"title\"])\n        ]),\n        default: withCtx(() => [\n          createElementVNode(\"div\", {\n            class: normalizeClass(_ctx.$style.pickerHeader)\n          }, [\n            createElementVNode(\"p\", {\n              id: \"conflict-picker-description\",\n              class: normalizeClass(_ctx.$style.pickerDescription)\n            }, [\n              createTextVNode(toDisplayString(unref(t)(\"Which files do you want to keep?\")), 1),\n              _cache[0] || (_cache[0] = createElementVNode(\"br\", null, null, -1)),\n              createTextVNode(\" \" + toDisplayString(unref(t)(\"If you select both versions, the incoming file will have a number added to its name.\")), 1),\n              _cache[1] || (_cache[1] = createElementVNode(\"br\", null, null, -1)),\n              __props.recursiveUpload ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n                createTextVNode(toDisplayString(unref(t)(\"When an incoming folder is selected, the content is written into the existing folder and a recursive conflict resolution is performed.\")), 1)\n              ], 64)) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n                createTextVNode(toDisplayString(unref(t)(\"When an incoming folder is selected, any conflicting files within it will also be overwritten.\")), 1)\n              ], 64))\n            ], 2)\n          ], 2),\n          createElementVNode(\"form\", {\n            ref: \"form\",\n            \"aria-labelledby\": \"conflict-picker-description\",\n            class: normalizeClass(_ctx.$style.pickerForm),\n            onSubmit: withModifiers(onSubmit, [\"prevent\", \"stop\"])\n          }, [\n            createElementVNode(\"fieldset\", {\n              class: normalizeClass(_ctx.$style.pickerSelectAll)\n            }, [\n              createElementVNode(\"legend\", _hoisted_1, toDisplayString(unref(t)(\"Select all checkboxes\")), 1),\n              createVNode(unref(NcCheckboxRadioSwitch), {\n                \"model-value\": areAllNewSelected.value,\n                indeterminate: areSomeNewSelected.value,\n                \"onUpdate:modelValue\": onSelectAllNew\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"Select all new files\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"model-value\", \"indeterminate\"]),\n              createVNode(unref(NcCheckboxRadioSwitch), {\n                \"model-value\": areAllOldSelected.value,\n                indeterminate: areSomeOldSelected.value,\n                \"onUpdate:modelValue\": onSelectAllOld\n              }, {\n                default: withCtx(() => [\n                  createTextVNode(toDisplayString(unref(t)(\"Select all existing files\")), 1)\n                ]),\n                _: 1\n              }, 8, [\"model-value\", \"indeterminate\"])\n            ], 2),\n            (openBlock(true), createElementBlock(Fragment, null, renderList(__props.existing, (node, index) => {\n              return openBlock(), createBlock(ConflictPickerEntry, {\n                ref_for: true,\n                ref: \"conflictEntry\",\n                key: node.fileid,\n                incoming: __props.incoming[index],\n                existing: node,\n                \"incoming-selected\": newSelected.value.includes(__props.incoming[index]),\n                \"existing-selected\": oldSelected.value.includes(__props.incoming[index]),\n                \"onUpdate:existingSelected\": ($event) => toggleOldSelected(__props.incoming[index]),\n                \"onUpdate:incomingSelected\": ($event) => toggleNewSelected(__props.incoming[index])\n              }, null, 8, [\"incoming\", \"existing\", \"incoming-selected\", \"existing-selected\", \"onUpdate:existingSelected\", \"onUpdate:incomingSelected\"]);\n            }), 128))\n          ], 34)\n        ]),\n        _: 1\n      }, 8, [\"container\", \"class\", \"name\"]);\n    };\n  }\n});\nconst picker = \"_picker_6q4ek_1\";\nconst pickerHeader = \"_pickerHeader_6q4ek_6\";\nconst pickerForm = \"_pickerForm_6q4ek_15\";\nconst pickerActionSubmit_disabled = \"_pickerActionSubmit_disabled_6q4ek_22\";\nconst pickerSelectAll = \"_pickerSelectAll_6q4ek_27\";\nconst style0 = {\n  picker,\n  pickerHeader,\n  pickerForm,\n  pickerActionSubmit_disabled,\n  pickerSelectAll,\n  \"conflict-picker__all\": \"_conflict-picker__all_6q4ek_40\"\n};\nconst cssModules = {\n  \"$style\": style0\n};\nconst ConflictPicker = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"__cssModules\", cssModules]]);\nexport {\n  ConflictPicker as default\n};\n//# sourceMappingURL=ConflictPicker-D11j2xek.mjs.map\n"],"names":["_hoisted_1$1","_hoisted_2$1","key","_hoisted_3","_hoisted_4","_sfc_main$1","__name","props","existing","incoming","type","Boolean","required","emits","setup","__props","expose","__expose","existingSelected","incomingSelected","validate","validationMessage","value","t","isFileSystemEntry","o","window","FileSystemEntry","incomingPreview","existingPreview","incomingMTime","existingMTime","incomingSize","existingSize","conflictResolved","isExistingFolder","Folder","isIncomingFolder","isDirectory","File","getSize","input","size","getMTime","mtime","lastModified","Date","async","getPreview","file","startsWith","resolve","promise","Promise","withResolvers","reader","FileReader","onload","e","result","target","ArrayBuffer","blob","Blob","url","URL","createObjectURL","readAsArrayBuffer","getFilePreview","g","toString","FileSystemFileEntry","reject","getFileOrNode","_ctx","_cache","class","$style","pickerEntry","basename","modelValue","$event","error","default","pickerEntryItem","pickerEntryPreview","src","alt","loading","pickerEntryIcon","pickerEntryIcon_folder","path","pickerEntryDescription","timestamp","format","timeStyle","dateStyle","_","cssModules$1","ConflictPickerEntry","_hoisted_1","_hoisted_2","_sfc_main","container","dirname","recursiveUpload","emit","__emit","blockedTitle","formElement","conflictEntries","newSelected","oldSelected","isNoNewSelected","length","areAllNewSelected","areSomeNewSelected","areAllOldSelected","areSomeOldSelected","areConflictsResolved","conflict","includes","dialogName","trim","n","onCancel","onSkipAll","l","debug","selected","renamed","skipped","onSelectAllNew","onSelectAllOld","onSubmit","entry","reportValidity","s","filter","picker","name","onClosing","actions","title","variant","onClick","icon","pickerActionSeparator","pickerActionSubmit","pickerActionSubmit_disabled","directional","pickerHeader","id","pickerDescription","ref","pickerForm","pickerSelectAll","indeterminate","node","index","ref_for","fileid","toggleOldSelected","toggleNewSelected","cssModules","ConflictPicker"],"sourceRoot":""}